<?xml version="1.0" encoding="utf-8"?><rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>LuSuZi</title><link>https://lusuzi.github.io/writing/</link><description>这是一个专注于写作的现代电子移动日记本。</description><generator>Hugo 0.84.0 https://gohugo.io/</generator><language>zh-CN</language><managingEditor>letter_chat@outlook.com (LuSuZi)</managingEditor><webMaster>letter_chat@outlook.com (LuSuZi)</webMaster><copyright>[署名 非商用 CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><lastBuildDate>Mon, 28 Jun 2021 21:14:21 +0800</lastBuildDate><atom:link rel="self" type="application/rss+xml" href="https://lusuzi.github.io/writing/rss.xml"/><item><title>健身记录</title><link>https://lusuzi.github.io/writing/life/workout-record/</link><guid isPermaLink="true">https://lusuzi.github.io/writing/life/workout-record/</guid><pubDate>Mon, 28 Jun 2021 18:21:51 +0800</pubDate><author>letter_chat@outlook.com (LuSuZi)</author><copyright>[署名 非商用 CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;table>
&lt;thead>
&lt;tr>
&lt;th>日期&lt;/th>
&lt;th>周&lt;/th>
&lt;th>内容&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>2021.06.28&lt;/td>
&lt;td>一&lt;/td>
&lt;td>1.平板卧推 4kg 4×8 2.TRX划船 4×8 3.上斜卧推 4kg 4×8 4.弹力带坐姿划船 4×10&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table></description><category domain="https://lusuzi.github.io/writing/life/">life</category></item><item><title>The Almanack of Naval Ravikant</title><link>https://lusuzi.github.io/writing/acad/the-almanack-of-naval-ravikant/</link><guid isPermaLink="true">https://lusuzi.github.io/writing/acad/the-almanack-of-naval-ravikant/</guid><pubDate>Mon, 28 Jun 2021 12:46:01 +0800</pubDate><author>letter_chat@outlook.com (LuSuZi)</author><copyright>[署名 非商用 CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;p>Source: &lt;a href="https://www.navalmanack.com/">https://www.navalmanack.com/&lt;/a>&lt;/p>
&lt;p>It's a book about the brilliant investor Naval Ravikant.&lt;/p>
&lt;p>I began to read it at on Jun 28th.&lt;/p>
&lt;p>Here some quotes.&lt;/p>
&lt;blockquote>
&lt;p>Getting rich is about knowing what to do, who to do it with, and when to do it. It is much more about understanding than purely hard work.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>Specific knowledge cannot be taught, but it can be learned.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>Focus on the thing that you are really into.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>Specific knowledge is found much more by pursuing your innate talents, your genuine curiosity, and your passion.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>If you are fundamentally building and marketing something that is an extension of who you are, no one can compete with you on that.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>It's much more important today to be able to become an expert in a brand-new field in nine to twelve months than to have studied the &amp;quot;right&amp;quot; thing a long time ago.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>When you find the 1 percent of your discipline which will not be wasted, which you'll be able to invest in for the rest of your life and has meaning to you-go all-in and forget about the rest.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>If you don't own a piece of a business, you don't have a path towards financial freedom.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>Without ownership, when you're sleeping, you're not earning. When you're retired, you're not earning. When you're on vacation, you're not earning. And you can't earn nonlinearly.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>Forget rich versus poor, white-collar versus blue. It's now leveraged versus un-leveraged.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>You're never going to get rich renting out your time.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>With a leveraged worker, judgment is far more important than how much time they put in or how hard they work.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>Knowledge workers function like athletes-train and sprint, then rest and reassess.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>If you're looking at professions where your inputs and your outputs are highly connected, it's going to be very hard to create wealth and make wealth for yourself in that process.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>Earn with your mind, not your time.&lt;/p>
&lt;/blockquote></description><category domain="https://lusuzi.github.io/writing/acad/">acad</category></item><item><title>seaborn学习</title><link>https://lusuzi.github.io/writing/tech/seaborn%E5%AD%A6%E4%B9%A0/</link><guid isPermaLink="true">https://lusuzi.github.io/writing/tech/seaborn%E5%AD%A6%E4%B9%A0/</guid><pubDate>Thu, 24 Jun 2021 16:19:21 +0800</pubDate><author>letter_chat@outlook.com (LuSuZi)</author><copyright>[署名 非商用 CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;h2 id="seaborn相关资源">seaborn相关资源&lt;/h2>
&lt;blockquote>
&lt;ul>
&lt;li>&lt;a href="https://seaborn.pydata.org/tutorial.html">seaborn官方教程&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://zhuanlan.zhihu.com/p/63823064">比 Matplotlib Seaborn 更酷的 5 个数据可视化工具&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://www.bilibili.com/video/BV1eJ411H79t?p=11">Seaborn基础课&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote></description><category domain="https://lusuzi.github.io/writing/tech/">tech</category><category domain="https://lusuzi.github.io/writing/tags/python/">python</category><category domain="https://lusuzi.github.io/writing/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</category></item><item><title>数据分析实战（3）</title><link>https://lusuzi.github.io/writing/tech/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%983/</link><guid isPermaLink="true">https://lusuzi.github.io/writing/tech/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%983/</guid><pubDate>Thu, 24 Jun 2021 10:37:08 +0800</pubDate><author>letter_chat@outlook.com (LuSuZi)</author><copyright>[署名 非商用 CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;h2 id="任务要求">任务要求&lt;/h2>
&lt;p>使用“&lt;a href="https://github.com/lusuzi/data_sample/blob/master/%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1%E6%95%B0%E6%8D%AE.xlsx">豆瓣电影数据.xlsx&lt;/a>”数据，完成以下任务：&lt;/p>
&lt;blockquote>
&lt;p>1、制作电影产地与平均评分的树形图（以此命名），颜色选择红蓝发散，&lt;strong>显示出平均评分标签&lt;/strong>，通过动态筛选器剔&lt;strong>除掉电影数量小于200的国家数据&lt;/strong>；&lt;/p>
&lt;p>2、制作不同类型电影数量的气泡图，以不同颜色表示不同的电影类型，以电影数量表示气泡大小。&lt;/p>
&lt;/blockquote>
&lt;h2 id="电影产地与平均评分树形图">电影产地与平均评分树形图&lt;/h2>
&lt;h3 id="matplotlib">matplotlib&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">pandas&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">pd&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">matplotlib.pyplot&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">plt&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read_excel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data/豆瓣电影数据.xlsx&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">index_col&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">df&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="c1"># 获取所需数据&lt;/span>
&lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">merge&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">value_counts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;产地&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">columns&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;电影数量&amp;#39;&lt;/span>&lt;span class="p">]),&lt;/span> \
&lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">groupby&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;产地&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">mean&lt;/span>&lt;span class="p">()[&lt;/span>&lt;span class="s1">&amp;#39;评分&amp;#39;&lt;/span>&lt;span class="p">]),&lt;/span> &lt;span class="n">on&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;产地&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">data&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;span class="lnt">28
&lt;/span>&lt;span class="lnt">29
&lt;/span>&lt;span class="lnt">30
&lt;/span>&lt;span class="lnt">31
&lt;/span>&lt;span class="lnt">32
&lt;/span>&lt;span class="lnt">33
&lt;/span>&lt;span class="lnt">34
&lt;/span>&lt;span class="lnt">35
&lt;/span>&lt;span class="lnt">36
&lt;/span>&lt;span class="lnt">37
&lt;/span>&lt;span class="lnt">38
&lt;/span>&lt;span class="lnt">39
&lt;/span>&lt;span class="lnt">40
&lt;/span>&lt;span class="lnt">41
&lt;/span>&lt;span class="lnt">42
&lt;/span>&lt;span class="lnt">43
&lt;/span>&lt;span class="lnt">44
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="kn">import&lt;/span> &lt;span class="nn">squarify&lt;/span>
&lt;span class="c1"># https://github.com/laserson/squarify#Documentation-for-Squarify&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">matplotlib.cm&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">cm&lt;/span>
&lt;span class="kn">from&lt;/span> &lt;span class="nn">matplotlib.colors&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">Normalize&lt;/span>
&lt;span class="n">cmap&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cm&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">RdBu&lt;/span>
&lt;span class="n">norm&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Normalize&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">vmin&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;评分&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">min&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">vmax&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;评分&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">max&lt;/span>&lt;span class="p">())&lt;/span>
&lt;span class="c1">#中文及负号处理&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rcParams&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;font.sans-serif&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;SimHei&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rcParams&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;axes.unicode_minus&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;span class="c1"># data&lt;/span>
&lt;span class="n">labels&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">index&lt;/span>
&lt;span class="n">num&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;电影数量&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">colors&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">cmap&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">norm&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;评分&amp;#39;&lt;/span>&lt;span class="p">]))&lt;/span>
&lt;span class="c1"># plot&lt;/span>
&lt;span class="n">fig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">figsize&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">12&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="n">ax&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fig&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add_subplot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">111&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plot&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">squarify&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">sizes&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># 方块面积大小&lt;/span>
&lt;span class="n">label&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">labels&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># 指定标签&lt;/span>
&lt;span class="n">color&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">colors&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># 指定自定义颜色&lt;/span>
&lt;span class="n">alpha&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mf">0.7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># 指定透明度&lt;/span>
&lt;span class="n">value&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># 添加数值标签&lt;/span>
&lt;span class="n">edgecolor&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;white&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="c1"># 设置边界框&lt;/span>
&lt;span class="n">linewidth&lt;/span> &lt;span class="o">=&lt;/span>&lt;span class="mf">0.1&lt;/span> &lt;span class="c1"># 设置边框宽度&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;span class="c1"># color bar&lt;/span>
&lt;span class="n">img&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">imshow&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;评分&amp;#39;&lt;/span>&lt;span class="p">]],&lt;/span> &lt;span class="n">cmap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">cmap&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">aspect&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;auto&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># auto解决比例失调&lt;/span>
&lt;span class="n">img&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_visible&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">False&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">fig&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">colorbar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">img&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">orientation&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;vertical&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">shrink&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># 设置标签大小&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;font&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">size&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># 设置标题大小&lt;/span>
&lt;span class="n">ax&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_title&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;电影产地与平均评分树形图&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pad&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">fontsize&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">22&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># 去除坐标轴&lt;/span>
&lt;span class="n">ax&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">axis&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;off&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># 去除上边框和右边框刻度&lt;/span>
&lt;span class="n">ax&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">tick_params&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">top&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;off&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">right&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;off&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">savefig&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;img/hw31.png&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># 显示图形&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="../images/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%98%EF%BC%883%EF%BC%89/hw31.png" alt="hw31">&lt;/p>
&lt;h2 id="不同类型电影数量气泡图">不同类型电影数量气泡图&lt;/h2>
&lt;h3 id="matplotlib-1">matplotlib&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">pandas&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">pd&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">matplotlib.pyplot&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">plt&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read_excel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data/豆瓣电影数据.xlsx&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">index_col&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">df&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>获取各类型电影的数量。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">value_counts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;类型&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">data&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;span class="lnt">27
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">fig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dpi&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">150&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">ax&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fig&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add_subplot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">111&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">colors&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;#F0F8FF&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#FAEBD7&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#00FFFF&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#7FFFD4&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>\
&lt;span class="s1">&amp;#39;#F0FFFF&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#F5F5DC&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#FFE4C4&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#000000&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>\
&lt;span class="s1">&amp;#39;#FFEBCD&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#0000FF&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#8A2BE2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#A52A2A&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>\
&lt;span class="s1">&amp;#39;#DEB887&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#5F9EA0&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#7FFF00&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#D2691E&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>\
&lt;span class="s1">&amp;#39;#FF7F50&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#6495ED&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#FFF8DC&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#DC143C&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>\
&lt;span class="s1">&amp;#39;#00FFFF&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#00008B&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#008B8B&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#B8860B&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>\
&lt;span class="s1">&amp;#39;#A9A9A9&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#006400&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#BDB76B&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#8B008B&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>\
&lt;span class="s1">&amp;#39;#556B2F&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#FF8C00&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;#9932CC&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="p">]&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rcParams&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;font.sans-serif&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;SimHei&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rcParams&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;axes.unicode_minus&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">random&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rand&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="c1"># c对应colormap，color对应单个颜色&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">len&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">)):&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">scatter&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">s&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sqrt&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">values&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">color&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">colors&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">label&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="c1"># plt.scatter(x, y, s=np.sqrt(data.values*100),c=colors)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">title&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;不同类型电影数量气泡图&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pad&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">15&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># ax.axis(&amp;#39;off&amp;#39;)&lt;/span>
&lt;span class="n">ax&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_xticks&lt;/span>&lt;span class="p">([])&lt;/span>
&lt;span class="n">ax&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_yticks&lt;/span>&lt;span class="p">([])&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">legend&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">bbox_to_anchor&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">1.1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.05&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">frameon&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">False&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ncol&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">savefig&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;img/hw32.png&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">bbox_inches&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;tight&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="../images/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%98%EF%BC%883%EF%BC%89/hw32.png" alt="hw32">&lt;/p></description><category domain="https://lusuzi.github.io/writing/tech/">tech</category><category domain="https://lusuzi.github.io/writing/tags/python/">python</category><category domain="https://lusuzi.github.io/writing/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</category></item><item><title>数据分析实战（2）</title><link>https://lusuzi.github.io/writing/tech/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%982/</link><guid isPermaLink="true">https://lusuzi.github.io/writing/tech/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%982/</guid><pubDate>Mon, 21 Jun 2021 14:37:08 +0800</pubDate><author>letter_chat@outlook.com (LuSuZi)</author><copyright>[署名 非商用 CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;h2 id="任务要求">任务要求&lt;/h2>
&lt;p>使用“&lt;a href="https://github.com/lusuzi/data_sample/blob/master/%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1%E6%95%B0%E6%8D%AE.xlsx">豆瓣电影数据.xlsx&lt;/a>”数据，完成以下任务：&lt;/p>
&lt;blockquote>
&lt;p>1、制作电影数量折线图（以此命名），横轴为时间，排除2016年的数据，显示标签，标记出最大值信息，将标记的线条颜色设为黑色，线末端使用箭头；&lt;/p>
&lt;p>2、绘制 剧情、喜剧、动作 三种类型电影环形图（以此命名），要求空心内部显示三种电影的总记录数（提示：27461），显示电影类型标签及总额百分比；&lt;/p>
&lt;/blockquote>
&lt;h2 id="电影数量折线图">电影数量折线图&lt;/h2>
&lt;h3 id="matplotlib">matplotlib&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">pandas&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">pd&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">matplotlib.pyplot&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">plt&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read_excel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data/豆瓣电影数据.xlsx&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">index_col&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">df&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;年代&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">!=&lt;/span>&lt;span class="mi">2016&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1"># 排除2016年的数据&lt;/span>
&lt;span class="n">df&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">num&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">value_counts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;年代&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">num&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sort_index&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ascending&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">False&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 排序&lt;/span>
&lt;span class="n">num&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rcParams&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;font.sans-serif&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;SimHei&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rcParams&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;axes.unicode_minus&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dpi&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">150&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">num&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">values&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ylabel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;电影数量&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1">#文本位置 xytext ，箭头终点xy&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">annotate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39; 最大值&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s1">年代：2012&lt;/span>&lt;span class="se">\n&lt;/span>&lt;span class="s1">数量：&amp;#39;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">values&lt;/span>&lt;span class="p">)),&lt;/span> \
&lt;span class="n">xy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2012&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">values&lt;/span>&lt;span class="p">)),&lt;/span> &lt;span class="n">xytext&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1970&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">max&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">values&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">400&lt;/span>&lt;span class="p">),&lt;/span>\
&lt;span class="n">arrowprops&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">dict&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">facecolor&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;black&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">width&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">1.1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">headwidth&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">4.1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">headlength&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">title&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;电影数量折线图&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">savefig&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;img/hw21.png&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="../images/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%98%EF%BC%882%EF%BC%89/hw21.png" alt="hw21">&lt;/p>
&lt;h2 id="电影类型环形图">电影类型环形图&lt;/h2>
&lt;h3 id="matplotlib-1">matplotlib&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">pandas&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">pd&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">matplotlib.pyplot&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">plt&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read_excel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data/豆瓣电影数据.xlsx&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">index_col&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">df&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>选取对应电影类型的数据。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="p">[(&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;类型&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="s1">&amp;#39;剧情&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;类型&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="s1">&amp;#39;喜剧&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">|&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;类型&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="s1">&amp;#39;动作&amp;#39;&lt;/span>&lt;span class="p">)]&lt;/span>
&lt;span class="n">df&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>计算电影数量。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">value_counts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;类型&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">data&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rcParams&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;font.sans-serif&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;SimHei&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rcParams&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;axes.unicode_minus&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">pie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">values&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">labels&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">,&lt;/span> \
&lt;span class="n">colors&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;c&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;springgreen&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;salmon&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">autopct&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="si">%.0f%%&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> \
&lt;span class="n">pctdistance&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">0.82&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">labeldistance&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">1.1&lt;/span>&lt;span class="p">,&lt;/span>\
&lt;span class="n">startangle&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">120&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">radius&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">1.2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">counterclock&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">False&lt;/span>&lt;span class="p">,&lt;/span> \
&lt;span class="n">wedgeprops&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;linewidth&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">1.5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;edgecolor&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s1">&amp;#39;green&amp;#39;&lt;/span>&lt;span class="p">},&lt;/span> \
&lt;span class="n">textprops&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;fontsize&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">14&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;color&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s1">&amp;#39;black&amp;#39;&lt;/span>&lt;span class="p">})&lt;/span>
&lt;span class="c1"># 中间部分&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">pie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">colors&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;white&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">radius&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">0.8&lt;/span>&lt;span class="p">,&lt;/span> \
&lt;span class="n">wedgeprops&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;linewidth&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">1.5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;edgecolor&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s1">&amp;#39;green&amp;#39;&lt;/span>&lt;span class="p">})&lt;/span>
&lt;span class="c1"># 总量标记&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">values&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">sum&lt;/span>&lt;span class="p">(),&lt;/span> &lt;span class="n">fontsize&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">va&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;center&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ha&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;center&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">title&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;电影类型环形图&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pad&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">fontsize&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">savefig&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;img/hw22.png&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="../images/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%98%EF%BC%882%EF%BC%89/hw22-1624508984524.png" alt="hw22">&lt;/p></description><category domain="https://lusuzi.github.io/writing/tech/">tech</category><category domain="https://lusuzi.github.io/writing/tags/python/">python</category><category domain="https://lusuzi.github.io/writing/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</category></item><item><title>数据分析实战（1）</title><link>https://lusuzi.github.io/writing/tech/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%981/</link><guid isPermaLink="true">https://lusuzi.github.io/writing/tech/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%981/</guid><pubDate>Mon, 21 Jun 2021 12:37:08 +0800</pubDate><author>letter_chat@outlook.com (LuSuZi)</author><copyright>[署名 非商用 CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;h2 id="任务要求">任务要求&lt;/h2>
&lt;p>使用“&lt;a href="https://github.com/lusuzi/data_sample/blob/master/%E8%B1%86%E7%93%A3%E7%94%B5%E5%BD%B1%E6%95%B0%E6%8D%AE.xlsx">豆瓣电影数据.xlsx&lt;/a>”数据，完成以下任务：&lt;/p>
&lt;blockquote>
&lt;p>1、绘制&lt;strong>各国家电影数量&lt;/strong>条形图（按此命名工作表），要求为横向条形图，按照升序排列，条形图顶部要有标签（要全部显示）；&lt;/p>
&lt;p>2、创建电影评分的直方图（按此命名），数据间距为0.5分，修改底部数字标签，以实际评分区间为底部标签数值，标签要显示完整。&lt;/p>
&lt;/blockquote>
&lt;h2 id="各国家电影数量条形图">各国家电影数量条形图&lt;/h2>
&lt;h3 id="matplotlib">matplotlib&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">pandas&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">pd&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">matplotlib.pyplot&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">plt&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read_excel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data/豆瓣电影数据.xlsx&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">index_col&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">df&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">height&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">value_counts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;产地&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">height&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rcParams&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;font.sans-serif&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;SimHei&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rcParams&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;axes.unicode_minus&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dpi&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">150&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">barh&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">height&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">height&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">color&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;salmon&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">enumerate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">height&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">values&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="c1"># 前两个参数表示标签的坐标位置，第三个参数表示标签的值&lt;/span>
&lt;span class="c1"># 为了使数据标签与矩形间隔相同，这里必须水平对齐为left&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">50&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">fontsize&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">va&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;center&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ha&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;left&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">xlabel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;电影数量&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">xlim&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">13000&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">yticks&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fontsize&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">title&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;各国家电影数量&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">savefig&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;img/hw11.png&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="../images/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%98%EF%BC%881%EF%BC%89/hw11.png" alt="hw11">&lt;/p>
&lt;h3 id="seaborn">seaborn&lt;/h3>
&lt;p>如果不用添加数据标签，seaborn一行代码其实就可以做出来的。但因为有作图要求，结果发现与直接用matplotlib相比做功反而更多。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">pandas&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">pd&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">matplotlib.pyplot&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">plt&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">seaborn&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">sns&lt;/span>
&lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read_excel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data/豆瓣电影数据.xlsx&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">index_col&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dpi&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">150&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rcParams&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;font.sans-serif&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;SimHei&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rcParams&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;axes.unicode_minus&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;span class="n">sns&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">countplot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;产地&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="p">,&lt;/span> \
&lt;span class="n">order&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">value_counts&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;产地&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ascending&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">enumerate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">num&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">values&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">50&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">fontsize&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">va&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;center&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ha&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;left&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">xlim&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">13000&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">yticks&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">fontsize&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">xlabel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;电影数量&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ylabel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">savefig&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;img/hw12.png&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="../images/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%98%EF%BC%881%EF%BC%89/hw12.png" alt="hw12">&lt;/p>
&lt;h2 id="电影评分直方图">电影评分直方图&lt;/h2>
&lt;h3 id="matplotlib-1">matplotlib&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">pandas&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">pd&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">matplotlib.pyplot&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">plt&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">read_excel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;data/豆瓣电影数据.xlsx&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">index_col&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">df&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>bins分成[2, 2.5, 3, ..., 10]。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">bins&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">21&lt;/span>&lt;span class="p">)]&lt;/span>
&lt;span class="n">bins&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>要求为[2,2,4] [2.5,3]这种格式。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">bins_name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s1">&amp;#39;-&amp;#39;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mf">0.4&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">)]&lt;/span>
&lt;span class="n">bins_name&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">dpi&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">150&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rcParams&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;font.sans-serif&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;SimHei&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rcParams&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;axes.unicode_minus&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">hist&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">df&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;评分&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">bins&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">bins&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">align&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;left&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rwidth&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">0.8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">color&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;skyblue&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># align=left使得柱子往左移到对准刻度&lt;/span>
&lt;span class="c1"># rwidth设置柱子间间隔&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">xticks&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">bins&lt;/span>&lt;span class="p">[:&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">bins_name&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">rotation&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">45&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">fontsize&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># 用 bins_name 替换 [2,2.5,..., 9.5] 刻度&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">title&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;电影评分直方图&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ylabel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;数量&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">savefig&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;img/hw13.png&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="../images/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%98%EF%BC%881%EF%BC%89/hw13.png" alt="hw13">&lt;/p></description><category domain="https://lusuzi.github.io/writing/tech/">tech</category><category domain="https://lusuzi.github.io/writing/tags/python/">python</category><category domain="https://lusuzi.github.io/writing/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</category></item><item><title>Matplotlib初探</title><link>https://lusuzi.github.io/writing/tech/matplotlib%E5%88%9D%E6%8E%A2/</link><guid isPermaLink="true">https://lusuzi.github.io/writing/tech/matplotlib%E5%88%9D%E6%8E%A2/</guid><pubDate>Sun, 20 Jun 2021 17:22:31 +0800</pubDate><author>letter_chat@outlook.com (LuSuZi)</author><copyright>[署名 非商用 CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;h2 id="matplotlib相关资源">matplotlib相关资源&lt;/h2>
&lt;blockquote>
&lt;ul>
&lt;li>
&lt;p>&lt;a href="https://matplotlib.org.cn/intro/">matplotlib中文网&lt;/a>&lt;/p>
&lt;/li>
&lt;li>
&lt;p>&lt;a href="https://matplotlib.org.cn/tutorials/">matplotlib教程&lt;/a>&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h2 id="matplotlib基础">matplotlib基础&lt;/h2>
&lt;h3 id="绘图案例">绘图案例&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="kn">import&lt;/span> &lt;span class="nn">matplotlib.pyplot&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">plt&lt;/span> &lt;span class="c1"># 导入&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">figure&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">figsize&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">dpi&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">200&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">facecolor&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;white&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 创建画板&lt;/span>
&lt;span class="n">x&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">arange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">y&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="o">**&lt;/span>&lt;span class="mi">2&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">title&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;图的标题&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">xlabel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;x轴标签&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ylabel&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;y轴标签&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">xlim&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="c1"># x轴范围&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ylim&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="c1"># y轴范围&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">xticks&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">0.2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">0.4&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">0.6&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">0.8&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="c1"># x轴刻度&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">yticks&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">0.2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">0.4&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">0.6&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">0.8&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="c1"># y轴刻度&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">plot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">label&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;y=x^2&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 绘图命令&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">legend&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">loc&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;best&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 显示图例（如果要放外面，可以用bbox_to_anchor参数）&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">savefig&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;img/test.png&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 保存&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1"># 展示&lt;/span>
&lt;span class="c1"># 中文和符号的正常显示&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rcParams&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;font.sans-serif&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;SimHei&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">rcParams&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;axes.unicode_minus&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>一个Figure可以创建多个子图subplot。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">fig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">figure&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="n">ax1&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fig&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add_subplot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 2×2的画板的第1个子图&lt;/span>
&lt;span class="n">ax2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">fig&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">add_subplot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 2×2的画板的第2个子图&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>图像参数设置。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">fig&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">gcf&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="c1"># 返回参数设置对象&lt;/span>
&lt;span class="n">fig&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set_size_inches&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">12&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">14&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 设置画布大小&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>网格线设置。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">grid&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">ls&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;--&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;darkblue&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>参考线。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">axhline&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1700&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;red&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 水平参考线&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">axvline&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">c&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;red&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 水平参考线&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>参考区域。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">axvspan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">xmin&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">xmax&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">alpha&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">0.3&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 绘制纵向参考区域&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">axhspan&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">xmin&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">14&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">xmax&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">alpha&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">0.3&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 绘制水平参考区域&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="plot参数">plot参数&lt;/h3>
&lt;blockquote>
&lt;p>plt.plot(x, y, ls=, lw=, c=, maker=, makersize=, makeredgecolor=, makerfacecolor=, label=)&lt;/p>
&lt;ul>
&lt;li>x：x轴上的数值&lt;/li>
&lt;li>y：y轴上的数值&lt;/li>
&lt;li>ls：折现的风格（如'-', ',', '--'等）&lt;/li>
&lt;li>lw：线条宽度&lt;/li>
&lt;li>c：颜色&lt;/li>
&lt;li>maker：线条上点的形状&lt;/li>
&lt;li>makersize：线条上点的大小&lt;/li>
&lt;li>makeredgecolor：线条上点的边框色&lt;/li>
&lt;li>makerfacecolor：线条上点的填充色&lt;/li>
&lt;li>label：文本标签&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h4 id="颜色参数">颜色参数&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt"> 10
&lt;/span>&lt;span class="lnt"> 11
&lt;/span>&lt;span class="lnt"> 12
&lt;/span>&lt;span class="lnt"> 13
&lt;/span>&lt;span class="lnt"> 14
&lt;/span>&lt;span class="lnt"> 15
&lt;/span>&lt;span class="lnt"> 16
&lt;/span>&lt;span class="lnt"> 17
&lt;/span>&lt;span class="lnt"> 18
&lt;/span>&lt;span class="lnt"> 19
&lt;/span>&lt;span class="lnt"> 20
&lt;/span>&lt;span class="lnt"> 21
&lt;/span>&lt;span class="lnt"> 22
&lt;/span>&lt;span class="lnt"> 23
&lt;/span>&lt;span class="lnt"> 24
&lt;/span>&lt;span class="lnt"> 25
&lt;/span>&lt;span class="lnt"> 26
&lt;/span>&lt;span class="lnt"> 27
&lt;/span>&lt;span class="lnt"> 28
&lt;/span>&lt;span class="lnt"> 29
&lt;/span>&lt;span class="lnt"> 30
&lt;/span>&lt;span class="lnt"> 31
&lt;/span>&lt;span class="lnt"> 32
&lt;/span>&lt;span class="lnt"> 33
&lt;/span>&lt;span class="lnt"> 34
&lt;/span>&lt;span class="lnt"> 35
&lt;/span>&lt;span class="lnt"> 36
&lt;/span>&lt;span class="lnt"> 37
&lt;/span>&lt;span class="lnt"> 38
&lt;/span>&lt;span class="lnt"> 39
&lt;/span>&lt;span class="lnt"> 40
&lt;/span>&lt;span class="lnt"> 41
&lt;/span>&lt;span class="lnt"> 42
&lt;/span>&lt;span class="lnt"> 43
&lt;/span>&lt;span class="lnt"> 44
&lt;/span>&lt;span class="lnt"> 45
&lt;/span>&lt;span class="lnt"> 46
&lt;/span>&lt;span class="lnt"> 47
&lt;/span>&lt;span class="lnt"> 48
&lt;/span>&lt;span class="lnt"> 49
&lt;/span>&lt;span class="lnt"> 50
&lt;/span>&lt;span class="lnt"> 51
&lt;/span>&lt;span class="lnt"> 52
&lt;/span>&lt;span class="lnt"> 53
&lt;/span>&lt;span class="lnt"> 54
&lt;/span>&lt;span class="lnt"> 55
&lt;/span>&lt;span class="lnt"> 56
&lt;/span>&lt;span class="lnt"> 57
&lt;/span>&lt;span class="lnt"> 58
&lt;/span>&lt;span class="lnt"> 59
&lt;/span>&lt;span class="lnt"> 60
&lt;/span>&lt;span class="lnt"> 61
&lt;/span>&lt;span class="lnt"> 62
&lt;/span>&lt;span class="lnt"> 63
&lt;/span>&lt;span class="lnt"> 64
&lt;/span>&lt;span class="lnt"> 65
&lt;/span>&lt;span class="lnt"> 66
&lt;/span>&lt;span class="lnt"> 67
&lt;/span>&lt;span class="lnt"> 68
&lt;/span>&lt;span class="lnt"> 69
&lt;/span>&lt;span class="lnt"> 70
&lt;/span>&lt;span class="lnt"> 71
&lt;/span>&lt;span class="lnt"> 72
&lt;/span>&lt;span class="lnt"> 73
&lt;/span>&lt;span class="lnt"> 74
&lt;/span>&lt;span class="lnt"> 75
&lt;/span>&lt;span class="lnt"> 76
&lt;/span>&lt;span class="lnt"> 77
&lt;/span>&lt;span class="lnt"> 78
&lt;/span>&lt;span class="lnt"> 79
&lt;/span>&lt;span class="lnt"> 80
&lt;/span>&lt;span class="lnt"> 81
&lt;/span>&lt;span class="lnt"> 82
&lt;/span>&lt;span class="lnt"> 83
&lt;/span>&lt;span class="lnt"> 84
&lt;/span>&lt;span class="lnt"> 85
&lt;/span>&lt;span class="lnt"> 86
&lt;/span>&lt;span class="lnt"> 87
&lt;/span>&lt;span class="lnt"> 88
&lt;/span>&lt;span class="lnt"> 89
&lt;/span>&lt;span class="lnt"> 90
&lt;/span>&lt;span class="lnt"> 91
&lt;/span>&lt;span class="lnt"> 92
&lt;/span>&lt;span class="lnt"> 93
&lt;/span>&lt;span class="lnt"> 94
&lt;/span>&lt;span class="lnt"> 95
&lt;/span>&lt;span class="lnt"> 96
&lt;/span>&lt;span class="lnt"> 97
&lt;/span>&lt;span class="lnt"> 98
&lt;/span>&lt;span class="lnt"> 99
&lt;/span>&lt;span class="lnt">100
&lt;/span>&lt;span class="lnt">101
&lt;/span>&lt;span class="lnt">102
&lt;/span>&lt;span class="lnt">103
&lt;/span>&lt;span class="lnt">104
&lt;/span>&lt;span class="lnt">105
&lt;/span>&lt;span class="lnt">106
&lt;/span>&lt;span class="lnt">107
&lt;/span>&lt;span class="lnt">108
&lt;/span>&lt;span class="lnt">109
&lt;/span>&lt;span class="lnt">110
&lt;/span>&lt;span class="lnt">111
&lt;/span>&lt;span class="lnt">112
&lt;/span>&lt;span class="lnt">113
&lt;/span>&lt;span class="lnt">114
&lt;/span>&lt;span class="lnt">115
&lt;/span>&lt;span class="lnt">116
&lt;/span>&lt;span class="lnt">117
&lt;/span>&lt;span class="lnt">118
&lt;/span>&lt;span class="lnt">119
&lt;/span>&lt;span class="lnt">120
&lt;/span>&lt;span class="lnt">121
&lt;/span>&lt;span class="lnt">122
&lt;/span>&lt;span class="lnt">123
&lt;/span>&lt;span class="lnt">124
&lt;/span>&lt;span class="lnt">125
&lt;/span>&lt;span class="lnt">126
&lt;/span>&lt;span class="lnt">127
&lt;/span>&lt;span class="lnt">128
&lt;/span>&lt;span class="lnt">129
&lt;/span>&lt;span class="lnt">130
&lt;/span>&lt;span class="lnt">131
&lt;/span>&lt;span class="lnt">132
&lt;/span>&lt;span class="lnt">133
&lt;/span>&lt;span class="lnt">134
&lt;/span>&lt;span class="lnt">135
&lt;/span>&lt;span class="lnt">136
&lt;/span>&lt;span class="lnt">137
&lt;/span>&lt;span class="lnt">138
&lt;/span>&lt;span class="lnt">139
&lt;/span>&lt;span class="lnt">140
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-text" data-lang="text">&amp;#39;aliceblue&amp;#39;: &amp;#39;#F0F8FF&amp;#39;,
&amp;#39;antiquewhite&amp;#39;: &amp;#39;#FAEBD7&amp;#39;,
&amp;#39;aqua&amp;#39;: &amp;#39;#00FFFF&amp;#39;,
&amp;#39;aquamarine&amp;#39;: &amp;#39;#7FFFD4&amp;#39;,
&amp;#39;azure&amp;#39;: &amp;#39;#F0FFFF&amp;#39;,
&amp;#39;beige&amp;#39;: &amp;#39;#F5F5DC&amp;#39;,
&amp;#39;bisque&amp;#39;: &amp;#39;#FFE4C4&amp;#39;,
&amp;#39;black&amp;#39;: &amp;#39;#000000&amp;#39;,
&amp;#39;blanchedalmond&amp;#39;: &amp;#39;#FFEBCD&amp;#39;,
&amp;#39;blue&amp;#39;: &amp;#39;#0000FF&amp;#39;,
&amp;#39;blueviolet&amp;#39;: &amp;#39;#8A2BE2&amp;#39;,
&amp;#39;brown&amp;#39;: &amp;#39;#A52A2A&amp;#39;,
&amp;#39;burlywood&amp;#39;: &amp;#39;#DEB887&amp;#39;,
&amp;#39;cadetblue&amp;#39;: &amp;#39;#5F9EA0&amp;#39;,
&amp;#39;chartreuse&amp;#39;: &amp;#39;#7FFF00&amp;#39;,
&amp;#39;chocolate&amp;#39;: &amp;#39;#D2691E&amp;#39;,
&amp;#39;coral&amp;#39;: &amp;#39;#FF7F50&amp;#39;,
&amp;#39;cornflowerblue&amp;#39;: &amp;#39;#6495ED&amp;#39;,
&amp;#39;cornsilk&amp;#39;: &amp;#39;#FFF8DC&amp;#39;,
&amp;#39;crimson&amp;#39;: &amp;#39;#DC143C&amp;#39;,
&amp;#39;cyan&amp;#39;: &amp;#39;#00FFFF&amp;#39;,
&amp;#39;darkblue&amp;#39;: &amp;#39;#00008B&amp;#39;,
&amp;#39;darkcyan&amp;#39;: &amp;#39;#008B8B&amp;#39;,
&amp;#39;darkgoldenrod&amp;#39;: &amp;#39;#B8860B&amp;#39;,
&amp;#39;darkgray&amp;#39;: &amp;#39;#A9A9A9&amp;#39;,
&amp;#39;darkgreen&amp;#39;: &amp;#39;#006400&amp;#39;,
&amp;#39;darkkhaki&amp;#39;: &amp;#39;#BDB76B&amp;#39;,
&amp;#39;darkmagenta&amp;#39;: &amp;#39;#8B008B&amp;#39;,
&amp;#39;darkolivegreen&amp;#39;: &amp;#39;#556B2F&amp;#39;,
&amp;#39;darkorange&amp;#39;: &amp;#39;#FF8C00&amp;#39;,
&amp;#39;darkorchid&amp;#39;: &amp;#39;#9932CC&amp;#39;,
&amp;#39;darkred&amp;#39;: &amp;#39;#8B0000&amp;#39;,
&amp;#39;darksalmon&amp;#39;: &amp;#39;#E9967A&amp;#39;,
&amp;#39;darkseagreen&amp;#39;: &amp;#39;#8FBC8F&amp;#39;,
&amp;#39;darkslateblue&amp;#39;: &amp;#39;#483D8B&amp;#39;,
&amp;#39;darkslategray&amp;#39;: &amp;#39;#2F4F4F&amp;#39;,
&amp;#39;darkturquoise&amp;#39;: &amp;#39;#00CED1&amp;#39;,
&amp;#39;darkviolet&amp;#39;: &amp;#39;#9400D3&amp;#39;,
&amp;#39;deeppink&amp;#39;: &amp;#39;#FF1493&amp;#39;,
&amp;#39;deepskyblue&amp;#39;: &amp;#39;#00BFFF&amp;#39;,
&amp;#39;dimgray&amp;#39;: &amp;#39;#696969&amp;#39;,
&amp;#39;dodgerblue&amp;#39;: &amp;#39;#1E90FF&amp;#39;,
&amp;#39;firebrick&amp;#39;: &amp;#39;#B22222&amp;#39;,
&amp;#39;floralwhite&amp;#39;: &amp;#39;#FFFAF0&amp;#39;,
&amp;#39;forestgreen&amp;#39;: &amp;#39;#228B22&amp;#39;,
&amp;#39;fuchsia&amp;#39;: &amp;#39;#FF00FF&amp;#39;,
&amp;#39;gainsboro&amp;#39;: &amp;#39;#DCDCDC&amp;#39;,
&amp;#39;ghostwhite&amp;#39;: &amp;#39;#F8F8FF&amp;#39;,
&amp;#39;gold&amp;#39;: &amp;#39;#FFD700&amp;#39;,
&amp;#39;goldenrod&amp;#39;: &amp;#39;#DAA520&amp;#39;,
&amp;#39;gray&amp;#39;: &amp;#39;#808080&amp;#39;,
&amp;#39;green&amp;#39;: &amp;#39;#008000&amp;#39;,
&amp;#39;greenyellow&amp;#39;: &amp;#39;#ADFF2F&amp;#39;,
&amp;#39;honeydew&amp;#39;: &amp;#39;#F0FFF0&amp;#39;,
&amp;#39;hotpink&amp;#39;: &amp;#39;#FF69B4&amp;#39;,
&amp;#39;indianred&amp;#39;: &amp;#39;#CD5C5C&amp;#39;,
&amp;#39;indigo&amp;#39;: &amp;#39;#4B0082&amp;#39;,
&amp;#39;ivory&amp;#39;: &amp;#39;#FFFFF0&amp;#39;,
&amp;#39;khaki&amp;#39;: &amp;#39;#F0E68C&amp;#39;,
&amp;#39;lavender&amp;#39;: &amp;#39;#E6E6FA&amp;#39;,
&amp;#39;lavenderblush&amp;#39;: &amp;#39;#FFF0F5&amp;#39;,
&amp;#39;lawngreen&amp;#39;: &amp;#39;#7CFC00&amp;#39;,
&amp;#39;lemonchiffon&amp;#39;: &amp;#39;#FFFACD&amp;#39;,
&amp;#39;lightblue&amp;#39;: &amp;#39;#ADD8E6&amp;#39;,
&amp;#39;lightcoral&amp;#39;: &amp;#39;#F08080&amp;#39;,
&amp;#39;lightcyan&amp;#39;: &amp;#39;#E0FFFF&amp;#39;,
&amp;#39;lightgoldenrodyellow&amp;#39;: &amp;#39;#FAFAD2&amp;#39;,
&amp;#39;lightgreen&amp;#39;: &amp;#39;#90EE90&amp;#39;,
&amp;#39;lightgray&amp;#39;: &amp;#39;#D3D3D3&amp;#39;,
&amp;#39;lightpink&amp;#39;: &amp;#39;#FFB6C1&amp;#39;,
&amp;#39;lightsalmon&amp;#39;: &amp;#39;#FFA07A&amp;#39;,
&amp;#39;lightseagreen&amp;#39;: &amp;#39;#20B2AA&amp;#39;,
&amp;#39;lightskyblue&amp;#39;: &amp;#39;#87CEFA&amp;#39;,
&amp;#39;lightslategray&amp;#39;: &amp;#39;#778899&amp;#39;,
&amp;#39;lightsteelblue&amp;#39;: &amp;#39;#B0C4DE&amp;#39;,
&amp;#39;lightyellow&amp;#39;: &amp;#39;#FFFFE0&amp;#39;,
&amp;#39;lime&amp;#39;: &amp;#39;#00FF00&amp;#39;,
&amp;#39;limegreen&amp;#39;: &amp;#39;#32CD32&amp;#39;,
&amp;#39;linen&amp;#39;: &amp;#39;#FAF0E6&amp;#39;,
&amp;#39;magenta&amp;#39;: &amp;#39;#FF00FF&amp;#39;,
&amp;#39;maroon&amp;#39;: &amp;#39;#800000&amp;#39;,
&amp;#39;mediumaquamarine&amp;#39;: &amp;#39;#66CDAA&amp;#39;,
&amp;#39;mediumblue&amp;#39;: &amp;#39;#0000CD&amp;#39;,
&amp;#39;mediumorchid&amp;#39;: &amp;#39;#BA55D3&amp;#39;,
&amp;#39;mediumpurple&amp;#39;: &amp;#39;#9370DB&amp;#39;,
&amp;#39;mediumseagreen&amp;#39;: &amp;#39;#3CB371&amp;#39;,
&amp;#39;mediumslateblue&amp;#39;: &amp;#39;#7B68EE&amp;#39;,
&amp;#39;mediumspringgreen&amp;#39;: &amp;#39;#00FA9A&amp;#39;,
&amp;#39;mediumturquoise&amp;#39;: &amp;#39;#48D1CC&amp;#39;,
&amp;#39;mediumvioletred&amp;#39;: &amp;#39;#C71585&amp;#39;,
&amp;#39;midnightblue&amp;#39;: &amp;#39;#191970&amp;#39;,
&amp;#39;mintcream&amp;#39;: &amp;#39;#F5FFFA&amp;#39;,
&amp;#39;mistyrose&amp;#39;: &amp;#39;#FFE4E1&amp;#39;,
&amp;#39;moccasin&amp;#39;: &amp;#39;#FFE4B5&amp;#39;,
&amp;#39;navajowhite&amp;#39;: &amp;#39;#FFDEAD&amp;#39;,
&amp;#39;navy&amp;#39;: &amp;#39;#000080&amp;#39;,
&amp;#39;oldlace&amp;#39;: &amp;#39;#FDF5E6&amp;#39;,
&amp;#39;olive&amp;#39;: &amp;#39;#808000&amp;#39;,
&amp;#39;olivedrab&amp;#39;: &amp;#39;#6B8E23&amp;#39;,
&amp;#39;orange&amp;#39;: &amp;#39;#FFA500&amp;#39;,
&amp;#39;orangered&amp;#39;: &amp;#39;#FF4500&amp;#39;,
&amp;#39;orchid&amp;#39;: &amp;#39;#DA70D6&amp;#39;,
&amp;#39;palegoldenrod&amp;#39;: &amp;#39;#EEE8AA&amp;#39;,
&amp;#39;palegreen&amp;#39;: &amp;#39;#98FB98&amp;#39;,
&amp;#39;paleturquoise&amp;#39;: &amp;#39;#AFEEEE&amp;#39;,
&amp;#39;palevioletred&amp;#39;: &amp;#39;#DB7093&amp;#39;,
&amp;#39;papayawhip&amp;#39;: &amp;#39;#FFEFD5&amp;#39;,
&amp;#39;peachpuff&amp;#39;: &amp;#39;#FFDAB9&amp;#39;,
&amp;#39;peru&amp;#39;: &amp;#39;#CD853F&amp;#39;,
&amp;#39;pink&amp;#39;: &amp;#39;#FFC0CB&amp;#39;,
&amp;#39;plum&amp;#39;: &amp;#39;#DDA0DD&amp;#39;,
&amp;#39;powderblue&amp;#39;: &amp;#39;#B0E0E6&amp;#39;,
&amp;#39;purple&amp;#39;: &amp;#39;#800080&amp;#39;,
&amp;#39;red&amp;#39;: &amp;#39;#FF0000&amp;#39;,
&amp;#39;rosybrown&amp;#39;: &amp;#39;#BC8F8F&amp;#39;,
&amp;#39;royalblue&amp;#39;: &amp;#39;#4169E1&amp;#39;,
&amp;#39;saddlebrown&amp;#39;: &amp;#39;#8B4513&amp;#39;,
&amp;#39;salmon&amp;#39;: &amp;#39;#FA8072&amp;#39;,
&amp;#39;sandybrown&amp;#39;: &amp;#39;#FAA460&amp;#39;,
&amp;#39;seagreen&amp;#39;: &amp;#39;#2E8B57&amp;#39;,
&amp;#39;seashell&amp;#39;: &amp;#39;#FFF5EE&amp;#39;,
&amp;#39;sienna&amp;#39;: &amp;#39;#A0522D&amp;#39;,
&amp;#39;silver&amp;#39;: &amp;#39;#C0C0C0&amp;#39;,
&amp;#39;skyblue&amp;#39;: &amp;#39;#87CEEB&amp;#39;,
&amp;#39;slateblue&amp;#39;: &amp;#39;#6A5ACD&amp;#39;,
&amp;#39;slategray&amp;#39;: &amp;#39;#708090&amp;#39;,
&amp;#39;snow&amp;#39;: &amp;#39;#FFFAFA&amp;#39;,
&amp;#39;springgreen&amp;#39;: &amp;#39;#00FF7F&amp;#39;,
&amp;#39;steelblue&amp;#39;: &amp;#39;#4682B4&amp;#39;,
&amp;#39;tan&amp;#39;: &amp;#39;#D2B48C&amp;#39;,
&amp;#39;teal&amp;#39;: &amp;#39;#008080&amp;#39;,
&amp;#39;thistle&amp;#39;: &amp;#39;#D8BFD8&amp;#39;,
&amp;#39;tomato&amp;#39;: &amp;#39;#FF6347&amp;#39;,
&amp;#39;turquoise&amp;#39;: &amp;#39;#40E0D0&amp;#39;,
&amp;#39;violet&amp;#39;: &amp;#39;#EE82EE&amp;#39;,
&amp;#39;wheat&amp;#39;: &amp;#39;#F5DEB3&amp;#39;,
&amp;#39;white&amp;#39;: &amp;#39;#FFFFFF&amp;#39;,
&amp;#39;whitesmoke&amp;#39;: &amp;#39;#F5F5F5&amp;#39;,
&amp;#39;yellow&amp;#39;: &amp;#39;#FFFF00&amp;#39;,
&amp;#39;yellowgreen&amp;#39;: &amp;#39;#9ACD32&amp;#39;
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="形状参数">形状参数&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-text" data-lang="text">&amp;#39;.&amp;#39; point marker
&amp;#39;,&amp;#39; pixel marker
&amp;#39;o&amp;#39; circle marker
&amp;#39;v&amp;#39; triangle_down marker
&amp;#39;^&amp;#39; triangle_up marker
&amp;#39;&amp;lt;&amp;#39; triangle_left marker
&amp;#39;&amp;gt;&amp;#39; triangle_right marker
&amp;#39;1&amp;#39; tri_down marker
&amp;#39;2&amp;#39; tri_up marker
&amp;#39;3&amp;#39; tri_left marker
&amp;#39;4&amp;#39; tri_right marker
&amp;#39;s&amp;#39; square marker
&amp;#39;p&amp;#39; pentagon marker
&amp;#39;*&amp;#39; star marker
&amp;#39;h&amp;#39; hexagon1 marker
&amp;#39;H&amp;#39; hexagon2 marker
&amp;#39;+&amp;#39; plus marker
&amp;#39;x&amp;#39; x marker
&amp;#39;D&amp;#39; diamond marker
&amp;#39;d&amp;#39; thin_diamond marker
&amp;#39;|&amp;#39; vline marker
&amp;#39;_&amp;#39; hline marker
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="设置绘图风格">设置绘图风格&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">style&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">use&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;ggplot&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">style&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">available&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 打印样式列表&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;Solarize_Light2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;_classic_test_patch&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;bmh&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;classic&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;dark_background&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;fast&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;fivethirtyeight&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;ggplot&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;grayscale&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;seaborn&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;seaborn-bright&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;seaborn-colorblind&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;seaborn-dark&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;seaborn-dark-palette&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;seaborn-darkgrid&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;seaborn-deep&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;seaborn-muted&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;seaborn-notebook&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;seaborn-paper&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;seaborn-pastel&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;seaborn-poster&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;seaborn-talk&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;seaborn-ticks&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;seaborn-white&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;seaborn-whitegrid&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;tableau-colorblind10&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="设置图中文字">设置图中文字&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">annotate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;标注文字&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">xy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">2.5&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1"># 文字位置&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">annotate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;标注文字2&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">xy&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">xytext&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">),&lt;/span>
&lt;span class="n">arrowprops&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">dict&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">facecolor&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;black&amp;#39;&lt;/span>&lt;span class="p">),&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;span class="c1">#文本位置 xytext ，箭头终点xy&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="直方图">直方图&lt;/h2>
&lt;p>用&lt;code>plt.hist()&lt;/code>函数绘制直方图。&lt;/p>
&lt;blockquote>
&lt;p>plt.hist(x, bins=10, range=None, normed=False, weights=None, cumulative=False, bottom=None, histtype=‘bar’, align=‘mid’, orientation=‘vertical’, rwidth=None, log=False, color=None, label=None, stacked=False)&lt;/p>
&lt;ul>
&lt;li>
&lt;p>x：指定要绘制直方图的数据；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>bins：指定直方图条形的个数；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>range：指定直方图数据的上下界，默认包含绘图数据的最大值和最小值；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>normed：是否将直方图的频数转换成频率；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>weights：该参数可为每一个数据点设置权重；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>cumulative：是否需要计算累计频数或频率；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>bottom：可以为直方图的每个条形添加基准线，默认为0；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>histtype：指定直方图的类型，默认为bar，除此还有’barstacked’, ‘step’, ‘stepfilled’；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>align：设置条形边界值的对其方式，默认为mid，除此还有’left’和’right’；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>orientation：设置直方图的摆放方向，默认为垂直方向；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>rwidth：设置直方图条形宽度的百分比；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>log：是否需要对绘图数据进行log变换；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>color：设置直方图的填充色；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>label：设置直方图的标签，可通过legend展示其图例；&lt;/p>
&lt;/li>
&lt;li>
&lt;p>stacked：当有多个数据时，是否需要将直方图呈堆叠摆放，默认水平摆放；&lt;/p>
&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h2 id="饼图">饼图&lt;/h2>
&lt;p>用&lt;code>plt.pie()&lt;/code>函数绘制饼图。&lt;/p>
&lt;blockquote>
&lt;p>plt.pie(x, explode, labels, colors, autopct, pctdistance, shadow, starangle, radius, wedgeprops, textprops, center)&lt;/p>
&lt;ul>
&lt;li>x：数值&lt;/li>
&lt;li>explode：突出显示&lt;/li>
&lt;li>labels：标签&lt;/li>
&lt;li>colors：颜色&lt;/li>
&lt;li>autopct：百分比格式&lt;/li>
&lt;li>pctdistance：百分比标签与圆心的距离&lt;/li>
&lt;li>shadow：是否添加饼图阴影效果&lt;/li>
&lt;li>labeldistance：设置各扇形标签与圆心的距离&lt;/li>
&lt;li>startangle：设置饼图的初始摆放角度&lt;/li>
&lt;li>radius：设置饼图半径大小&lt;/li>
&lt;li>counterclock：是否逆时针呈现&lt;/li>
&lt;li>wedgeprops：设置饼图内外边界的属性&lt;/li>
&lt;li>textprops：设置饼图中文本属性&lt;/li>
&lt;li>center：设置中心位置&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">pie&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">59&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">78&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">explode&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.2&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">labels&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;Male&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Female&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> \
&lt;span class="n">shadow&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">colors&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;red&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;yellow&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">autopct&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="si">%.1f%%&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> \
&lt;span class="n">pctdistance&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">0.5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">labeldistance&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">1.1&lt;/span>&lt;span class="p">,&lt;/span> \
&lt;span class="n">startangle&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">120&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">radius&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">1.2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">counterclock&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kc">False&lt;/span>&lt;span class="p">,&lt;/span> \
&lt;span class="n">wedgeprops&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;linewidth&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mf">1.5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;edgecolor&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s1">&amp;#39;green&amp;#39;&lt;/span>&lt;span class="p">},&lt;/span> \
&lt;span class="n">textprops&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;fontsize&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;color&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="s1">&amp;#39;black&amp;#39;&lt;/span>&lt;span class="p">})&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">title&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;男女平均年收入&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">pad&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="../images/matplotlib%E5%88%9D%E6%8E%A2/pie1.png" alt="pie1">&lt;/p>
&lt;h2 id="条形图">条形图&lt;/h2>
&lt;h3 id="普通条形图">普通条形图&lt;/h3>
&lt;p>用&lt;code>plt.bar()&lt;/code>函数绘制水平条形图（如果要绘制纵向的用&lt;code>plt.barh()&lt;/code>）。&lt;/p>
&lt;blockquote>
&lt;p>plt.bar(x, height, width, bottom, color, edgecolor, linewidth, ticke_label, align, hatch)&lt;/p>
&lt;ul>
&lt;li>x：柱子在&lt;code>x&lt;/code>轴上的坐标。浮点数或类数组结构。&lt;strong>注意&lt;code>x&lt;/code>可以为字符串数组&lt;/strong>&lt;/li>
&lt;li>height：柱子的高度，即&lt;code>y&lt;/code>轴上的坐标。浮点数或类数组结构&lt;/li>
&lt;li>width：柱子的宽度。浮点数或类数组结构。默认值为&lt;code>0.8&lt;/code>&lt;/li>
&lt;li>bottom：柱子的基准高度。浮点数或类数组结构。默认值为&lt;code>0&lt;/code>&lt;/li>
&lt;li>color：条形图的填充色&lt;/li>
&lt;li>edgecolor：条形图的边框色&lt;/li>
&lt;li>linewidth：条形图边框宽度&lt;/li>
&lt;li>tick_label：条形图的刻度标签&lt;/li>
&lt;li>align：指定x轴上对齐方式&lt;/li>
&lt;li>hatch：柱子填充符号 {'/', '', '|', '-', '+', 'x', 'o', 'O', '.', '*'} 符号可以组合，例如&lt;code>/+&lt;/code>，多个重复符号，增加密度&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;p>柱子的位置由&lt;code>x&lt;/code>以及&lt;code>align&lt;/code>确定 ，柱子的尺寸由&lt;code>height&lt;/code>和 &lt;code>width&lt;/code> 确定。垂直基准位置由&lt;code>bottom&lt;/code>确定(默认值为0)。大部分参数即可以是单独的浮点值也可以是值序列，单独值对所有柱子生效，值序列一一对应每个柱子。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">pandas&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">pd&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">matplotlib.pyplot&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">plt&lt;/span>
&lt;span class="n">x_data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">y_data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">exp&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x_data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">bar&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">x_data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">height&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="n">y_data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">width&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mf">0.1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.4&lt;/span>&lt;span class="p">],&lt;/span> \
&lt;span class="n">align&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;center&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">edgecolor&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;w&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;w&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;w&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;r&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> \
&lt;span class="n">color&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;steelblue&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;thistle&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;salmon&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;skyblue&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> \
&lt;span class="n">linewidth&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">tick_label&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s1">&amp;#39;s&amp;#39;&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">x&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">x_data&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ylim&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">230&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="n">y&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">enumerate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y_data&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="c1"># 前两个参数表示标签的坐标位置，第三个参数表示标签的值&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">text&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">x&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">y&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="si">%s&lt;/span>&lt;span class="s1">&amp;#39;&lt;/span>&lt;span class="o">%&lt;/span>&lt;span class="nb">round&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">y&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s1">&amp;#39;m&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">ha&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s1">&amp;#39;center&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">savefig&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;bar1.png&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">plt&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">show&lt;/span>&lt;span class="p">()&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="../images/matplotlib%E5%88%9D%E6%8E%A2/bar1.png" alt="bar1">&lt;/p>
&lt;h3 id="堆叠条形图">堆叠条形图&lt;/h3>
&lt;p>利用&lt;code>bottom&lt;/code>参数，使用多个&lt;code>plt.bar()&lt;/code>，可以绘制堆叠条形图。&lt;/p>
&lt;h2 id="散点图">散点图&lt;/h2>
&lt;p>用&lt;code>plt.scatter()&lt;/code>函数绘制散点图。&lt;/p>
&lt;blockquote>
&lt;p>plt.scatter(x, y, s=20,
c=None, marker='o',
cmap=None, norm=None,
vmin=None, vmax=None,
alpha=None, linewidths=None,
edgecolors=None)&lt;/p>
&lt;ul>
&lt;li>x：指定散点图的x轴数据；&lt;/li>
&lt;li>y：指定散点图的y轴数据；&lt;/li>
&lt;li>s：指定散点图点的大小，默认为20，通过传入新的变量，实现气泡图的绘制；&lt;/li>
&lt;li>c：指定散点图点的颜色，默认为蓝色；&lt;/li>
&lt;li>marker：指定散点图点的形状，默认为圆形；&lt;/li>
&lt;li>cmap：指定色图，只有当c参数是一个浮点型的数组的时候才起作用；&lt;/li>
&lt;li>norm：设置数据亮度，标准化到0~1之间，使用该参数仍需要c为浮点型的数组；&lt;/li>
&lt;li>vmin、vmax：亮度设置，与norm类似，如果使用了norm则该参数无效；&lt;/li>
&lt;li>alpha：设置散点的透明度；&lt;/li>
&lt;li>linewidths：设置散点边界线的宽度；&lt;/li>
&lt;li>edgecolors：设置散点边界线的颜色；&lt;/li>
&lt;/ul>
&lt;/blockquote>
&lt;h2 id="箱线图">箱线图&lt;/h2></description><category domain="https://lusuzi.github.io/writing/tech/">tech</category><category domain="https://lusuzi.github.io/writing/tags/python/">python</category><category domain="https://lusuzi.github.io/writing/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</category></item><item><title>Pandas入门</title><link>https://lusuzi.github.io/writing/tech/pandas%E5%85%A5%E9%97%A8/</link><guid isPermaLink="true">https://lusuzi.github.io/writing/tech/pandas%E5%85%A5%E9%97%A8/</guid><pubDate>Sun, 20 Jun 2021 14:03:46 +0800</pubDate><author>letter_chat@outlook.com (LuSuZi)</author><copyright>[署名 非商用 CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;p>pandas它有两种主要的数据结构。&lt;/p>
&lt;h2 id="数据结构">数据结构&lt;/h2>
&lt;h3 id="series">Series&lt;/h3>
&lt;p>是一种类似于一维数组的对象，它由一组&lt;strong>数据&lt;/strong>（各种Numpy数据类型）以及一组与之相关的数据标签（即&lt;strong>索引&lt;/strong>）组成。&lt;/p>
&lt;p>Series的字符串表现形式为：索引在左边，值在右边。如果没有为数据创建索引，它会自动创建一个从0开始的整数型索引。&lt;/p>
&lt;pre>&lt;code class="language-pandas" data-lang="pandas">In [46]: import pandas as pd
In [47]: pd.Series([1,3,4,5])
Out[47]:
0 1
1 3
2 4
3 5
dtype: int64
&lt;/code>&lt;/pre>&lt;p>也可以自己指定索引。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Series&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">index&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;d&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;c&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;f&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">48&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="n">d&lt;/span> &lt;span class="mi">3&lt;/span>
&lt;span class="n">c&lt;/span> &lt;span class="mi">6&lt;/span>
&lt;span class="n">f&lt;/span> &lt;span class="mi">7&lt;/span>
&lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">int64&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>与Numpy数组相比，可以通过索引的方式选取Series的单个或多个值。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">49&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Series&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">index&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;d&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;c&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;f&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">50&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;d&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">50&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="mi">3&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">51&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj&lt;/span>&lt;span class="p">[[&lt;/span>&lt;span class="s1">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;d&amp;#39;&lt;/span>&lt;span class="p">]]&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">51&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="n">d&lt;/span> &lt;span class="mi">3&lt;/span>
&lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">int64&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>还可以将Series看成一个定长的有序字典，，可以用在许多原本需要字典参数的函数中。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">52&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="s1">&amp;#39;d&amp;#39;&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">obj&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">52&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="kc">True&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>（因此，如果数据被存放在一个Python字典中，可以直接通过字典来创建Series，结果Series的索引就是原字典的键。）&lt;/p>
&lt;p>检测缺失值用isnull和isnotnull函数。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">53&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">isnull&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">obj&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">53&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;span class="n">d&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;span class="n">c&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;span class="n">f&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">bool&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">54&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">isnull&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">54&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;span class="n">d&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;span class="n">c&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;span class="n">f&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">bool&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>Series对象本身及其索引都有一个name属性，该属性跟pandas其他功能关系非常密切。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">55&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;population&amp;#39;&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">56&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">index&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">name&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;state&amp;#39;&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">57&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">57&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">state&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="n">d&lt;/span> &lt;span class="mi">3&lt;/span>
&lt;span class="n">c&lt;/span> &lt;span class="mi">6&lt;/span>
&lt;span class="n">f&lt;/span> &lt;span class="mi">7&lt;/span>
&lt;span class="n">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">population&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">int64&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>其索引也可以通过赋值的方式就地修改。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">58&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">index&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">59&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">59&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="mi">1&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="mi">2&lt;/span> &lt;span class="mi">3&lt;/span>
&lt;span class="mi">3&lt;/span> &lt;span class="mi">6&lt;/span>
&lt;span class="mi">4&lt;/span> &lt;span class="mi">7&lt;/span>
&lt;span class="n">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">population&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">int64&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="dataframe">DataFrame&lt;/h3>
&lt;p>DataFrame是一个表格型的数据结构，它含有一组有序的列，每列可以是不同的值类型。它既有行索引也有列索引。它可以看作是由Series组成的字典（共用同一个索引）。&lt;/p>
&lt;p>最常用的构建方式是传入一个由等长列表或Numpy数组组成的字典。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">63&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">{&lt;/span>&lt;span class="s1">&amp;#39;state&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;Ohio&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Nevada&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="s1">&amp;#39;year&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">2000&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2001&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="s1">&amp;#39;pop&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mf">1.3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.5&lt;/span>&lt;span class="p">]}&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">64&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">df&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">65&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">df&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">65&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">state&lt;/span> &lt;span class="n">year&lt;/span> &lt;span class="n">pop&lt;/span>
&lt;span class="mi">0&lt;/span> &lt;span class="n">Ohio&lt;/span> &lt;span class="mi">2000&lt;/span> &lt;span class="mf">1.3&lt;/span>
&lt;span class="mi">1&lt;/span> &lt;span class="n">Nevada&lt;/span> &lt;span class="mi">2001&lt;/span> &lt;span class="mf">1.5&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果指定了列序列，则会按指定顺序排列。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">66&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">columns&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;year&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;state&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;pop&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">66&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">year&lt;/span> &lt;span class="n">state&lt;/span> &lt;span class="n">pop&lt;/span>
&lt;span class="mi">0&lt;/span> &lt;span class="mi">2000&lt;/span> &lt;span class="n">Ohio&lt;/span> &lt;span class="mf">1.3&lt;/span>
&lt;span class="mi">1&lt;/span> &lt;span class="mi">2001&lt;/span> &lt;span class="n">Nevada&lt;/span> &lt;span class="mf">1.5&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>用类似字典方式可以将DataFrame的列获取为一个Series。此时Series拥有原DataFrame相同的索引，其name属性也已经设置好了。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">67&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;year&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">67&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="mi">0&lt;/span> &lt;span class="mi">2000&lt;/span>
&lt;span class="mi">1&lt;/span> &lt;span class="mi">2001&lt;/span>
&lt;span class="n">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">year&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">int64&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>行也可以通过位置或名称进行索引。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">72&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">index&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;b&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">73&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">df&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">73&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">state&lt;/span> &lt;span class="n">year&lt;/span> &lt;span class="n">pop&lt;/span>
&lt;span class="n">b&lt;/span> &lt;span class="n">Ohio&lt;/span> &lt;span class="mi">2000&lt;/span> &lt;span class="mf">1.3&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="n">Nevada&lt;/span> &lt;span class="mi">2001&lt;/span> &lt;span class="mf">1.5&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">74&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loc&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;b&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">74&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">state&lt;/span> &lt;span class="n">Ohio&lt;/span>
&lt;span class="n">year&lt;/span> &lt;span class="mi">2000&lt;/span>
&lt;span class="n">pop&lt;/span> &lt;span class="mf">1.3&lt;/span>
&lt;span class="n">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">b&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">object&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>可以通过赋值的方式直接修改列。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">75&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;pop&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">76&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">df&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">76&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">state&lt;/span> &lt;span class="n">year&lt;/span> &lt;span class="n">pop&lt;/span>
&lt;span class="n">b&lt;/span> &lt;span class="n">Ohio&lt;/span> &lt;span class="mi">2000&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="n">Nevada&lt;/span> &lt;span class="mi">2001&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">77&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;year&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">200&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">300&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">78&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">df&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">78&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">state&lt;/span> &lt;span class="n">year&lt;/span> &lt;span class="n">pop&lt;/span>
&lt;span class="n">b&lt;/span> &lt;span class="n">Ohio&lt;/span> &lt;span class="mi">200&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="n">Nevada&lt;/span> &lt;span class="mi">300&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>del可以删除列。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">79&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="k">del&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;pop&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">80&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">df&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">80&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">state&lt;/span> &lt;span class="n">year&lt;/span>
&lt;span class="n">b&lt;/span> &lt;span class="n">Ohio&lt;/span> &lt;span class="mi">200&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="n">Nevada&lt;/span> &lt;span class="mi">300&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>与Series一样，可以设置DataFrame的index和columns的name属性。&lt;/p>
&lt;p>与Series一样，values属性也会以二位ndarray的形式返回数据。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">81&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">df&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">values&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">81&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="s1">&amp;#39;Ohio&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;Nevada&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">300&lt;/span>&lt;span class="p">]],&lt;/span> &lt;span class="n">dtype&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">object&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="基本功能">基本功能&lt;/h2>
&lt;h3 id="重新索引">重新索引&lt;/h3>
&lt;p>pandas对象的一个重要方法reindex的作用是创建一个适应新索引的新对象。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">82&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Series&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">index&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;b&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;d&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;c&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">83&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">83&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">b&lt;/span> &lt;span class="mi">4&lt;/span>
&lt;span class="n">d&lt;/span> &lt;span class="mi">3&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;span class="n">c&lt;/span> &lt;span class="mi">5&lt;/span>
&lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">int64&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">84&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">obj&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reindex&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;b&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;c&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;d&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">85&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj2&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">85&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;span class="n">b&lt;/span> &lt;span class="mi">4&lt;/span>
&lt;span class="n">c&lt;/span> &lt;span class="mi">5&lt;/span>
&lt;span class="n">d&lt;/span> &lt;span class="mi">3&lt;/span>
&lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">int64&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果某个索引值不存在，就引入缺失值。可以指定fill_value参数的值。&lt;/p>
&lt;h3 id="丢弃指定轴上的项">丢弃指定轴上的项&lt;/h3>
&lt;p>drop方法返回的是一个在指定轴上删除了指定值的新对象。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">86&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Series&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="n">index&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;b&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;d&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s1">&amp;#39;c&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">87&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">87&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">b&lt;/span> &lt;span class="mi">4&lt;/span>
&lt;span class="n">d&lt;/span> &lt;span class="mi">3&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;span class="n">c&lt;/span> &lt;span class="mi">5&lt;/span>
&lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">int64&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">88&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">obj&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">drop&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;c&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">89&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj2&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">89&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">b&lt;/span> &lt;span class="mi">4&lt;/span>
&lt;span class="n">d&lt;/span> &lt;span class="mi">3&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">int64&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>对于DataFrame，可以删除任意轴上的索引值。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">90&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">arange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reshape&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">)),&lt;/span>
&lt;span class="o">...&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">index&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;Ohio&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Colorado&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Utah&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;New York&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="o">...&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">columns&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;one&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;two&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;three&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;four&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">91&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">91&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">one&lt;/span> &lt;span class="n">two&lt;/span> &lt;span class="n">three&lt;/span> &lt;span class="n">four&lt;/span>
&lt;span class="n">Ohio&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="mi">3&lt;/span>
&lt;span class="n">Colorado&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="mi">7&lt;/span>
&lt;span class="n">Utah&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="mi">9&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="mi">11&lt;/span>
&lt;span class="n">New&lt;/span> &lt;span class="n">York&lt;/span> &lt;span class="mi">12&lt;/span> &lt;span class="mi">13&lt;/span> &lt;span class="mi">14&lt;/span> &lt;span class="mi">15&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">92&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">drop&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="s1">&amp;#39;Colorado&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Ohio&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span> &lt;span class="c1"># 这个方向是axis = 0&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">92&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">one&lt;/span> &lt;span class="n">two&lt;/span> &lt;span class="n">three&lt;/span> &lt;span class="n">four&lt;/span>
&lt;span class="n">Utah&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="mi">9&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="mi">11&lt;/span>
&lt;span class="n">New&lt;/span> &lt;span class="n">York&lt;/span> &lt;span class="mi">12&lt;/span> &lt;span class="mi">13&lt;/span> &lt;span class="mi">14&lt;/span> &lt;span class="mi">15&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">93&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">drop&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;two&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">axis&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">93&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">one&lt;/span> &lt;span class="n">three&lt;/span> &lt;span class="n">four&lt;/span>
&lt;span class="n">Ohio&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="mi">3&lt;/span>
&lt;span class="n">Colorado&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="mi">7&lt;/span>
&lt;span class="n">Utah&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="mi">11&lt;/span>
&lt;span class="n">New&lt;/span> &lt;span class="n">York&lt;/span> &lt;span class="mi">12&lt;/span> &lt;span class="mi">14&lt;/span> &lt;span class="mi">15&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="索引选取和过滤">索引、选取和过滤&lt;/h3>
&lt;p>Series索引的工作方式类似于Numpy数组，只不过索引值不只是整数。而切片运算与普通Python不同，其末端是包含的。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">94&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">Series&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">arange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mf">4.&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="n">index&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;a&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;b&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;c&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;d&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="o">...&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">obj&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">94&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">a&lt;/span> &lt;span class="mf">0.0&lt;/span>
&lt;span class="n">b&lt;/span> &lt;span class="mf">1.0&lt;/span>
&lt;span class="n">c&lt;/span> &lt;span class="mf">2.0&lt;/span>
&lt;span class="n">d&lt;/span> &lt;span class="mf">3.0&lt;/span>
&lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">float64&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">95&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">obj&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;b&amp;#39;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s1">&amp;#39;c&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">95&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">b&lt;/span> &lt;span class="mf">1.0&lt;/span>
&lt;span class="n">c&lt;/span> &lt;span class="mf">2.0&lt;/span>
&lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">float64&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>而对DataFrame进行索引其实就是获取一个或多个列。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;span class="lnt">25
&lt;/span>&lt;span class="lnt">26
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">96&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">pd&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">DataFrame&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">arange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reshape&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">)),&lt;/span>
&lt;span class="o">...&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">index&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;Ohio&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Colorado&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;Utah&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;New York&amp;#39;&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="o">...&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">columns&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;one&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;two&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;three&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;four&amp;#39;&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="o">...&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">data&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">96&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">one&lt;/span> &lt;span class="n">two&lt;/span> &lt;span class="n">three&lt;/span> &lt;span class="n">four&lt;/span>
&lt;span class="n">Ohio&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="mi">3&lt;/span>
&lt;span class="n">Colorado&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="mi">7&lt;/span>
&lt;span class="n">Utah&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="mi">9&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="mi">11&lt;/span>
&lt;span class="n">New&lt;/span> &lt;span class="n">York&lt;/span> &lt;span class="mi">12&lt;/span> &lt;span class="mi">13&lt;/span> &lt;span class="mi">14&lt;/span> &lt;span class="mi">15&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">97&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;two&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">97&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">Ohio&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="n">Colorado&lt;/span> &lt;span class="mi">5&lt;/span>
&lt;span class="n">Utah&lt;/span> &lt;span class="mi">9&lt;/span>
&lt;span class="n">New&lt;/span> &lt;span class="n">York&lt;/span> &lt;span class="mi">13&lt;/span>
&lt;span class="n">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">two&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">int32&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">98&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="p">[[&lt;/span>&lt;span class="s1">&amp;#39;three&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;one&amp;#39;&lt;/span>&lt;span class="p">]]&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">98&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">three&lt;/span> &lt;span class="n">one&lt;/span>
&lt;span class="n">Ohio&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;span class="n">Colorado&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="mi">4&lt;/span>
&lt;span class="n">Utah&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="mi">8&lt;/span>
&lt;span class="n">New&lt;/span> &lt;span class="n">York&lt;/span> &lt;span class="mi">14&lt;/span> &lt;span class="mi">12&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>几个特殊的情况。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">99&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="p">[:&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1"># 这索引的是行&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">99&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">one&lt;/span> &lt;span class="n">two&lt;/span> &lt;span class="n">three&lt;/span> &lt;span class="n">four&lt;/span>
&lt;span class="n">Ohio&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">1&lt;/span> &lt;span class="mi">2&lt;/span> &lt;span class="mi">3&lt;/span>
&lt;span class="n">Colorado&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="mi">7&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;three&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">100&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">one&lt;/span> &lt;span class="n">two&lt;/span> &lt;span class="n">three&lt;/span> &lt;span class="n">four&lt;/span>
&lt;span class="n">Colorado&lt;/span> &lt;span class="mi">4&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="mi">7&lt;/span>
&lt;span class="n">Utah&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="mi">9&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="mi">11&lt;/span>
&lt;span class="n">New&lt;/span> &lt;span class="n">York&lt;/span> &lt;span class="mi">12&lt;/span> &lt;span class="mi">13&lt;/span> &lt;span class="mi">14&lt;/span> &lt;span class="mi">15&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">101&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">5&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">101&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">one&lt;/span> &lt;span class="n">two&lt;/span> &lt;span class="n">three&lt;/span> &lt;span class="n">four&lt;/span>
&lt;span class="n">Ohio&lt;/span> &lt;span class="kc">True&lt;/span> &lt;span class="kc">True&lt;/span> &lt;span class="kc">True&lt;/span> &lt;span class="kc">True&lt;/span>
&lt;span class="n">Colorado&lt;/span> &lt;span class="kc">True&lt;/span> &lt;span class="kc">False&lt;/span> &lt;span class="kc">False&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;span class="n">Utah&lt;/span> &lt;span class="kc">False&lt;/span> &lt;span class="kc">False&lt;/span> &lt;span class="kc">False&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;span class="n">New&lt;/span> &lt;span class="n">York&lt;/span> &lt;span class="kc">False&lt;/span> &lt;span class="kc">False&lt;/span> &lt;span class="kc">False&lt;/span> &lt;span class="kc">False&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">102&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">data&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;span class="o">...&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">data&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">102&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">one&lt;/span> &lt;span class="n">two&lt;/span> &lt;span class="n">three&lt;/span> &lt;span class="n">four&lt;/span>
&lt;span class="n">Ohio&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;span class="n">Colorado&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="mi">7&lt;/span>
&lt;span class="n">Utah&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="mi">9&lt;/span> &lt;span class="mi">10&lt;/span> &lt;span class="mi">11&lt;/span>
&lt;span class="n">New&lt;/span> &lt;span class="n">York&lt;/span> &lt;span class="mi">12&lt;/span> &lt;span class="mi">13&lt;/span> &lt;span class="mi">14&lt;/span> &lt;span class="mi">15&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>为了在DataFrame的行上进行标签索引，引入了专门的字段loc，它使你可以通过Numpy式的标记法以及轴标签从DataFrame中选取行和列的子集。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">103&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loc&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;Colorado&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s1">&amp;#39;two&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;three&amp;#39;&lt;/span>&lt;span class="p">]]&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">103&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">two&lt;/span> &lt;span class="mi">5&lt;/span>
&lt;span class="n">three&lt;/span> &lt;span class="mi">6&lt;/span>
&lt;span class="n">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Colorado&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">int32&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">104&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">iloc&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]]&lt;/span> &lt;span class="c1"># 用数字代表行和列&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">104&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">four&lt;/span> &lt;span class="mi">11&lt;/span>
&lt;span class="n">one&lt;/span> &lt;span class="mi">8&lt;/span>
&lt;span class="n">two&lt;/span> &lt;span class="mi">9&lt;/span>
&lt;span class="n">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Utah&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">int32&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">105&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">iloc&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="c1"># 第3行&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">105&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">one&lt;/span> &lt;span class="mi">8&lt;/span>
&lt;span class="n">two&lt;/span> &lt;span class="mi">9&lt;/span>
&lt;span class="n">three&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;span class="n">four&lt;/span> &lt;span class="mi">11&lt;/span>
&lt;span class="n">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">Utah&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">int32&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">106&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">iloc&lt;/span>&lt;span class="p">[[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">]]&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">106&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">four&lt;/span> &lt;span class="n">one&lt;/span> &lt;span class="n">two&lt;/span>
&lt;span class="n">Colorado&lt;/span> &lt;span class="mi">7&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">5&lt;/span>
&lt;span class="n">Utah&lt;/span> &lt;span class="mi">11&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="mi">9&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">107&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">loc&lt;/span>&lt;span class="p">[:&lt;/span>&lt;span class="s1">&amp;#39;Utah&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s1">&amp;#39;two&amp;#39;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">107&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">Ohio&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;span class="n">Colorado&lt;/span> &lt;span class="mi">5&lt;/span>
&lt;span class="n">Utah&lt;/span> &lt;span class="mi">9&lt;/span>
&lt;span class="n">Name&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">two&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">dtype&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">int32&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">108&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">iloc&lt;/span>&lt;span class="p">[:,&lt;/span> &lt;span class="p">:&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">three&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">108&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">one&lt;/span> &lt;span class="n">two&lt;/span> &lt;span class="n">three&lt;/span>
&lt;span class="n">Colorado&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">5&lt;/span> &lt;span class="mi">6&lt;/span>
&lt;span class="n">Utah&lt;/span> &lt;span class="mi">8&lt;/span> &lt;span class="mi">9&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;span class="n">New&lt;/span> &lt;span class="n">York&lt;/span> &lt;span class="mi">12&lt;/span> &lt;span class="mi">13&lt;/span> &lt;span class="mi">14&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h2 id="汇总和计算描述统计">汇总和计算描述统计&lt;/h2>
&lt;p>pandas对象拥有一组常用的数学和统计方法，用于从Series中提取单个值（如sum或mean）或从DataFrame的行或列中提取一个Series。跟对应的Numpy数组方法对比，它们都是基于没有缺失数据的假设而构建的。&lt;/p>
&lt;p>NA值会自动排除，除非整个切片都是NA。可以通过skipna=False选项禁用该功能。&lt;/p>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>方法&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>count&lt;/td>
&lt;td>非NA值的数量&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>describe&lt;/td>
&lt;td>汇总统计&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>min、max&lt;/td>
&lt;td>最小最大值&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>argmin、argmax&lt;/td>
&lt;td>最小最大值索引位置（整数）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>idxmin、idxmax&lt;/td>
&lt;td>最小最大值的索引值&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>quantile&lt;/td>
&lt;td>计算样本分位数&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>sum&lt;/td>
&lt;td>总和&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>mean&lt;/td>
&lt;td>平均值&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>median&lt;/td>
&lt;td>算术中位数&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>mad&lt;/td>
&lt;td>根据平均值计算平均绝对离差&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>var&lt;/td>
&lt;td>方差&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>std&lt;/td>
&lt;td>标准差&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>skew&lt;/td>
&lt;td>偏度（三阶矩）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>kurt&lt;/td>
&lt;td>峰度（四阶矩）&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>cumsum&lt;/td>
&lt;td>累计和&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>cummin、cummax&lt;/td>
&lt;td>累计最小值和最大值&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>cumprod&lt;/td>
&lt;td>累计积&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>diff&lt;/td>
&lt;td>一阶差分&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>pct_change&lt;/td>
&lt;td>百分数变化&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h2 id="处理缺失数据">处理缺失数据&lt;/h2>
&lt;p>pandas使用浮点值NaN表示浮点和非浮点数组中缺失数据，它只是一个便于被检测出来的标记而已。Python内置的None值也会被当作NaN处理。&lt;/p>
&lt;h3 id="滤除缺失数据">滤除缺失数据&lt;/h3>
&lt;p>对于一个Series，dropna返回一个仅含非空数据和索引值的Series。&lt;/p>
&lt;p>对于DataFrame，dropna默认丢弃任何含有缺失值的行。&lt;/p>
&lt;p>传入&lt;code>how='all'&lt;/code>将只丢弃全为NA的那些行。&lt;/p>
&lt;p>而要用这种方式丢弃列，只需传入&lt;code>axis=1&lt;/code>即可。&lt;/p>
&lt;p>想留下部分观察数据，可以用thresh参数。&lt;/p>
&lt;h3 id="填充缺失数据">填充缺失数据&lt;/h3>
&lt;p>用fillna函数。可以用inplace参数原地修改。可以用字典实现对不同行或列插入不同的值。&lt;/p>
&lt;h2 id="数据聚合与分组运算">数据聚合与分组运算&lt;/h2></description><category domain="https://lusuzi.github.io/writing/tech/">tech</category><category domain="https://lusuzi.github.io/writing/tags/python/">python</category><category domain="https://lusuzi.github.io/writing/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</category></item><item><title>Numpy基础</title><link>https://lusuzi.github.io/writing/tech/numpy%E5%9F%BA%E7%A1%80/</link><guid isPermaLink="true">https://lusuzi.github.io/writing/tech/numpy%E5%9F%BA%E7%A1%80/</guid><pubDate>Sun, 20 Jun 2021 12:25:11 +0800</pubDate><author>letter_chat@outlook.com (LuSuZi)</author><copyright>[署名 非商用 CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;p>Numpy 是 Python 的一个&lt;strong>高性能&lt;/strong>科学计算和数据分析的基础包，它为更高效地使用其他工具提供基础。&lt;/p>
&lt;p>它高效在它的数据结构——Numpy数组，是一种N维数组对象(ndarray)，&lt;strong>它的元素必须是相同数据类型&lt;/strong>，可以进行快速的矢量数组运算。而且Numpy数组的矢量运算与普通标量运算的语法几乎一样，相应知识可以非常自然地迁移过来。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">30&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mi">40&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">50&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">60&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">data&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="ndarray的创建">ndarray的创建&lt;/h3>
&lt;h4 id="一般创建">一般创建&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="nn">numpy&lt;/span> &lt;span class="k">as&lt;/span> &lt;span class="nn">np&lt;/span>
&lt;span class="o">...&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;span class="o">...&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">data&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">dtype&lt;/span> &lt;span class="c1"># 数据类型&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">dtype&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;int32&amp;#39;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ndim&lt;/span> &lt;span class="c1"># 数据维度&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="初始化创建">初始化创建&lt;/h4>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zeros&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">7&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">zeros&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">ones&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">9&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mf">1.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">11&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">empty&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">))&lt;/span> &lt;span class="c1"># 返回未初始化的垃圾值&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">11&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="mf">6.23042070e-307&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.89146896e-307&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.37961302e-306&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="mf">1.05699242e-307&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">8.01097889e-307&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">7.56598449e-307&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.60220393e-306&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="mf">2.22522596e-306&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">14&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">eye&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 单位矩阵&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">14&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="mf">1.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">15&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">identity&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 单位矩阵&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">15&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="mf">1.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>arrange函数是Python内置函数range的数组版：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">12&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">arange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">12&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="其他函数">其他函数&lt;/h4>
&lt;table>
&lt;thead>
&lt;tr>
&lt;th>数组创建函数&lt;/th>
&lt;th>说明&lt;/th>
&lt;/tr>
&lt;/thead>
&lt;tbody>
&lt;tr>
&lt;td>asarray&lt;/td>
&lt;td>将输出转换为ndarray&lt;/td>
&lt;/tr>
&lt;tr>
&lt;td>ones_like/zero_like/empty_like&lt;/td>
&lt;td>以另一数组为参数，根据其形状创建一个新数组&lt;/td>
&lt;/tr>
&lt;/tbody>
&lt;/table>
&lt;h3 id="ndarray的数据类型">ndarray的数据类型&lt;/h3>
&lt;h3 id="数组和标量之间的运算">数组和标量之间的运算&lt;/h3>
&lt;p>&lt;strong>形状相同的数组&lt;/strong>之间的任何算术运算都将应用到元素级。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">shape&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">data&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">25&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">36&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>同样地，数组与标量的算术运算会&lt;strong>广播&lt;/strong>到各个元素。（不同大小数组之间的运算叫做广播broadcasting）&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">17&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">data&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">17&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="基本索引和切片">基本索引和切片&lt;/h3>
&lt;p>和Python的列表功能差不多，但当将一个标量赋值给一个切片时，该值会自动广播到整个选取。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">43&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">arange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">44&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">100&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">45&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">arr&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">45&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">100&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>跟列表最重要的区别在于，数组切片是原始数组的视图，原数据不会被复制（为了高性能），&lt;strong>视图上的任何修改都会直接反映到源数组上&lt;/strong>。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">20&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">arange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">21&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">arr_slice&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">22&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">arr_slice&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">123&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">23&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">arr&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">23&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">123&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果想得到arr切片的副本而非视图，需要用&lt;code>arr[5:8].copy()&lt;/code>。&lt;/p>
&lt;h3 id="布尔型索引">布尔型索引&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">arr&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">26&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">123&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">])&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">27&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">arr&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">4&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">27&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="kc">False&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">False&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">False&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">False&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">True&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">False&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">False&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">False&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kc">False&lt;/span>&lt;span class="p">,&lt;/span>
&lt;span class="kc">False&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>注意，Python关键字and和or在布尔型数组中无效，要用 &amp;amp; 和 | 。&lt;/p>
&lt;h3 id="花式索引">花式索引&lt;/h3>
&lt;p>利用整数数组进行索引。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">30&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">empty&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">))&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">31&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="nb">range&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">8&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="o">...&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">arr&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">]&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span>
&lt;span class="o">...&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">32&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">arr&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">32&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">1.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">2.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">2.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">2.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">2.&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">3.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">3.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">3.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">3.&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">4.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">4.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">4.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">4.&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">5.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">5.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">5.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">5.&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">6.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">6.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">6.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">6.&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">7.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">7.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">7.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">7.&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">33&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">arr&lt;/span>&lt;span class="p">[[&lt;/span>&lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">]]&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">33&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="mf">4.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">4.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">4.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">4.&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">3.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">3.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">3.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">3.&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">0.&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mf">6.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">6.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">6.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">6.&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>但两组整数返回的是对应位置的值即 (1,0) (5,3) (7,1) (1,2)。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">34&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">arr&lt;/span>&lt;span class="p">[[&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">],&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">]]&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">34&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">array&lt;/span>&lt;span class="p">([&lt;/span>&lt;span class="mf">1.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">5.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">7.&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">1.&lt;/span>&lt;span class="p">])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="数组转置和轴对换">数组转置和轴对换&lt;/h3>
&lt;p>转置：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">35&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">arr&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">arange&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">15&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reshape&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">arr&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">36&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">11&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">13&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">14&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">37&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">arr&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">T&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">37&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">11&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">7&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">12&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">13&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">9&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">14&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>内积：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="n">In&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="mi">39&lt;/span>&lt;span class="p">]:&lt;/span> &lt;span class="n">np&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">dot&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">arr&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">T&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">arr&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">Out&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">39&lt;/span>&lt;span class="p">]:&lt;/span>
&lt;span class="n">array&lt;/span>&lt;span class="p">([[&lt;/span>&lt;span class="mi">125&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">140&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">155&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">170&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">185&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mi">140&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">158&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">176&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">194&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">212&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mi">155&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">176&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">197&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">218&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">239&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mi">170&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">194&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">218&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">242&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">266&lt;/span>&lt;span class="p">],&lt;/span>
&lt;span class="p">[&lt;/span>&lt;span class="mi">185&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">212&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">239&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">266&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">293&lt;/span>&lt;span class="p">]])&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description><category domain="https://lusuzi.github.io/writing/tech/">tech</category><category domain="https://lusuzi.github.io/writing/tags/python/">python</category><category domain="https://lusuzi.github.io/writing/tags/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90/">数据分析</category></item><item><title>AI学习</title><link>https://lusuzi.github.io/writing/tech/ai%E5%AD%A6%E4%B9%A0/</link><guid isPermaLink="true">https://lusuzi.github.io/writing/tech/ai%E5%AD%A6%E4%B9%A0/</guid><pubDate>Sat, 12 Jun 2021 16:19:21 +0800</pubDate><author>letter_chat@outlook.com (LuSuZi)</author><copyright>[署名 非商用 CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;h2 id="ai相关资源">AI相关资源&lt;/h2>
&lt;blockquote>
&lt;ul>
&lt;li>&lt;a href="https://www.bilibili.com/video/BV1JC4y1s7NR?p=8&amp;amp;spm_id_from=pageDriver">Adobe illustrator CC2019入门到精通初级到高级教程视频&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote></description><category domain="https://lusuzi.github.io/writing/tech/">tech</category><category domain="https://lusuzi.github.io/writing/tags/%E8%A7%86%E9%A2%91%E5%88%B6%E4%BD%9C/">视频制作</category></item><item><title>Pr学习</title><link>https://lusuzi.github.io/writing/tech/pr%E5%AD%A6%E4%B9%A0/</link><guid isPermaLink="true">https://lusuzi.github.io/writing/tech/pr%E5%AD%A6%E4%B9%A0/</guid><pubDate>Thu, 10 Jun 2021 16:19:21 +0800</pubDate><author>letter_chat@outlook.com (LuSuZi)</author><copyright>[署名 非商用 CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;h2 id="pr相关资源">Pr相关资源&lt;/h2>
&lt;blockquote>
&lt;ul>
&lt;li>&lt;a href="https://www.bilibili.com/video/BV1T5411H7Fo?p=19">【pr教程】新版本全套56集学不会你找我&lt;/a>&lt;/li>
&lt;/ul>
&lt;/blockquote></description><category domain="https://lusuzi.github.io/writing/tech/">tech</category><category domain="https://lusuzi.github.io/writing/tags/%E8%A7%86%E9%A2%91%E5%88%B6%E4%BD%9C/">视频制作</category></item><item><title>Recursion</title><link>https://lusuzi.github.io/writing/acad/recursion/</link><guid isPermaLink="true">https://lusuzi.github.io/writing/acad/recursion/</guid><pubDate>Sun, 17 Jan 2021 19:31:28 +0800</pubDate><author>letter_chat@outlook.com (LuSuZi)</author><copyright>[署名 非商用 CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;h3 id="相关资源">相关资源&lt;/h3>
&lt;ul>
&lt;li>&lt;a href="https://github.com/keithnull/TeachYourselfCS-CN/blob/master/TeachYourselfCS-CN.md">自学计算机科学&lt;/a>&lt;/li>
&lt;li>&lt;a href="https://inst.eecs.berkeley.edu/~cs61a/fa20/">伯克利大学编程课(python)&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="递归">递归&lt;/h3>
&lt;p>&lt;a href="https://zh.wikipedia.org/zh-hans/Luhn%E7%AE%97%E6%B3%95">Luhn算法&lt;/a>是一种简单的校验和算法，方式是对一串数字，从校验位开始从右往左，偶数位乘2，奇数位不变，两位数字的个位与十位相加，最后把所有得到的数字相加即为校验和。&lt;/p>
&lt;p>此问题的简化版本为：&lt;/p>
&lt;blockquote>
&lt;p>给一个数字，求其所有数字之和。&lt;/p>
&lt;/blockquote>
&lt;p>可以用递归的方法解决。&lt;/p>
&lt;p>首先是将数字拆分为除最后位的其他数字与最后一位的算法：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="k">def&lt;/span> &lt;span class="nf">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">//&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">%&lt;/span> &lt;span class="mi">10&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>然后是递归算法主体：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="k">def&lt;/span> &lt;span class="nf">sum_digits&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="c1"># 简单形式&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">n&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">all_but_last&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">last&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">sum_digits&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">all_but_last&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">last&lt;/span> &lt;span class="c1"># 递归调用&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&amp;gt;&amp;gt;&amp;gt; split&lt;span class="o">(&lt;/span>432&lt;span class="o">)&lt;/span>
&amp;gt;&amp;gt;&amp;gt; &lt;span class="o">(&lt;/span>43, 2&lt;span class="o">)&lt;/span>
&amp;gt;&amp;gt;&amp;gt; sum_digits&lt;span class="o">(&lt;/span>432&lt;span class="o">)&lt;/span>
&amp;gt;&amp;gt;&amp;gt; &lt;span class="m">9&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="question-cascade">Question: cascade&lt;/h4>
&lt;p>需要用例子来体会递归的调用顺序。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="k">def&lt;/span> &lt;span class="nf">cascade&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">cascade&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">//&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&amp;gt;&amp;gt;&amp;gt; cascade&lt;span class="o">(&lt;/span>12345&lt;span class="o">)&lt;/span>
&lt;span class="m">12345&lt;/span>
&lt;span class="m">1234&lt;/span>
&lt;span class="m">123&lt;/span>
&lt;span class="m">12&lt;/span>
&lt;span class="m">1&lt;/span>
&lt;span class="m">12&lt;/span>
&lt;span class="m">123&lt;/span>
&lt;span class="m">1234&lt;/span>
&lt;span class="m">12345&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>注意，第一个12345是 else 里的第一个 print 打印的，最后一个12345是 else 里的第二个 print 打印的（注意要等到递归的 cascade 函数返回后才打印），中间的对称数字是一层层递归的 cascade 函数的 else 函数的 print 打印的，而1是 if 语句中的 print 打印的。&lt;/p>
&lt;p>这个函数也可以这样写：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="k">def&lt;/span> &lt;span class="nf">cascade&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">&amp;gt;=&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">cascade&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">//&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>如果要写一个相反的函数 inverse_cascade, 即打印形如&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="m">1&lt;/span>
&lt;span class="m">12&lt;/span>
&lt;span class="m">123&lt;/span>
&lt;span class="m">12&lt;/span>
&lt;span class="m">1&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>用 grow 函数打印前部分，用 shrink 函数打印后部分。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="k">def&lt;/span> &lt;span class="nf">inverse_cascade&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">grow&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">shrink&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">f_then_g&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">g&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">f&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">g&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">grow&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">lambda&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">f_then_g&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">grow&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nb">print&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">//&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">shrink&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="k">lambda&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="n">f_then_g&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">print&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">shrink&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="o">//&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="question-tower-of-hanoi">Question: Tower of Hanoi&lt;/h4>
&lt;blockquote>
&lt;p>The &lt;strong>Tower of Hanoi&lt;/strong> (also called the &lt;strong>Tower of Brahma&lt;/strong> or &lt;strong>Lucas' Tower&lt;/strong> and sometimes pluralized as &lt;strong>Towers&lt;/strong>) is a &lt;a href="https://en.wikipedia.org/wiki/Mathematical_game">mathematical game&lt;/a> or &lt;a href="https://en.wikipedia.org/wiki/Puzzle">puzzle&lt;/a>. It consists of three rods and a number of disks of different sizes, which can slide onto any rod. The puzzle starts with the disks in a neat stack in ascending order of size on one rod, the smallest at the top, thus making a &lt;a href="https://en.wikipedia.org/wiki/Cone">conical&lt;/a> shape.&lt;/p>
&lt;p>The objective of the puzzle is to move the entire stack to another rod, obeying the following simple rules:&lt;/p>
&lt;ol>
&lt;li>Only one disk can be moved at a time.&lt;/li>
&lt;li>Each move consists of taking the upper disk from one of the stacks and placing it on top of another stack or on an empty rod.&lt;/li>
&lt;li>No larger disk may be placed on top of a smaller disk.&lt;/li>
&lt;/ol>
&lt;p>Source: &lt;a href="https://en.wikipedia.org/wiki/Tower_of_Hanoi">https://en.wikipedia.org/wiki/Tower_of_Hanoi&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;p>我们可以直接用递归“让它自己解决”。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="k">def&lt;/span> &lt;span class="nf">move_disk&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">disk_number&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">from_peg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">to_peg&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="nb">print&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;Move disk&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">disk_number&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34; from peg &amp;#34;&lt;/span> \
&lt;span class="o">+&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">from_peg&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34; to peg &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nb">str&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">to_peg&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s2">&amp;#34;.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">def&lt;/span> &lt;span class="nf">solve_hanoi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">start_peg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">end_peg&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">move_disk&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">start_peg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">end_peg&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 直接移过去&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">spare_peg&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">6&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">start_peg&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="n">end_peg&lt;/span>
&lt;span class="c1"># 将除最底下的其他块用solve_hanoi从开始处移动到空处&lt;/span>
&lt;span class="n">solve_hanoi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">start_peg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">spare_peg&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># 将最底下的块移动到目标处&lt;/span>
&lt;span class="n">move_disk&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">start_peg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">end_peg&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># 将除最底下的其他块用solve_hanoi从空处移动到目标处&lt;/span>
&lt;span class="n">solve_hanoi&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">spare_peg&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">end_peg&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h4 id="question-counting-partitions">Question: Counting Partitions&lt;/h4>
&lt;blockquote>
&lt;p>Q: The number of partitions of a positive integer n, using parts up to size m, is the number of ways in which n can be expressed as the sum of positive interger parts up to m in increasing order.&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>Example: count_partitions(6, 4)&lt;/p>
&lt;p>2 + 4 = 6&lt;/p>
&lt;p>1 + 1 + 4 = 6&lt;/p>
&lt;p>3 + 3 = 6&lt;/p>
&lt;p>....&lt;/p>
&lt;p>1 + 1 + 1 + 1 + 1 + 1 = 6&lt;/p>
&lt;/blockquote>
&lt;p>&lt;img src="../images/Recursion/image-20210122212214585.png" alt="image-20210122212214585">&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="k">def&lt;/span> &lt;span class="nf">count_partition&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="k">elif&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;span class="k">elif&lt;/span> &lt;span class="n">m&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">with_m&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">count_partition&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">m&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># or (n-m, min(m, n-m)) 2 4 --&amp;gt; 2 2&lt;/span>
&lt;span class="n">without_m&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">count_partition&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">m&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">with_m&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">without_m&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;h3 id="互递归">互递归&lt;/h3>
&lt;p>Luhn算法同样是需要将各数字位相加，只是对偶数位要做些处理而已。&lt;/p>
&lt;p>首先构造其递归相加函数：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;span class="lnt">9
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="k">def&lt;/span> &lt;span class="nf">luhn_sum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">n&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">all_but_last&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">last&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="c1"># 与sum_digits的不同在于对偶数位做的处理不同&lt;/span>
&lt;span class="c1"># 形成了两个函数互相递归的形式&lt;/span>
&lt;span class="c1"># 这里的last是奇数位&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">luhn_sum_double&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">all_but_last&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">last&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;span class="lnt">8
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="k">def&lt;/span> &lt;span class="nf">luhn_sum_double&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">all_but_last&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">last&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">split&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">luhn_digit&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">sum_digits&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span> &lt;span class="o">*&lt;/span> &lt;span class="n">last&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="c1"># 这里的last为偶数位被加倍了&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">luhn_digit&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="c1"># 让luhn_sum将处理all_but_last里的最后一位也就是奇数位&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">luhn_sum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">all_but_last&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">luhn_digit&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&amp;gt;&amp;gt;&amp;gt; luhn_sum&lt;span class="o">(&lt;/span>32&lt;span class="o">)&lt;/span>
&amp;gt;&amp;gt;&amp;gt; &lt;span class="m">8&lt;/span> // &lt;span class="m">3&lt;/span> * &lt;span class="m">2&lt;/span> + &lt;span class="nv">2&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="m">8&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>为了完成不同的处理逻辑，这个例子里 luhn_sum 函数与 luhn_sum_double 函数相互递归，这就是所谓的&lt;strong>互递归(mutual recursion)&lt;/strong>。&lt;/p>
&lt;h3 id="树递归">树递归&lt;/h3>
&lt;p>如果一个函数进行了不止一次的递归调用，就叫做树递归(tree recursion)，典型的是递归版的斐波拉契函数：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="k">def&lt;/span> &lt;span class="nf">fib&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;span class="k">elif&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">fib&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">fib&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>&lt;img src="../images/Recursion/fib.svg" alt="fib">&lt;/p>
&lt;p>一般来说，当你在同一时间进行多种运算时，会需要用到树递归。此外，普通递归可以很容易地与迭代形式转化，但是树递归很难写成迭代形式。&lt;/p>
&lt;h4 id="question---count_stair_ways">Question: count_stair_ways&lt;/h4>
&lt;blockquote>
&lt;p>Q1: You want to go up a flight of stairs that has n steps. You can either take 1 or 2 steps each time. How many different ways can you go up this flight of stairs? Write a function count_stair_ways that solves this problem. Assume n is positive.&lt;/p>
&lt;/blockquote>
&lt;p>这里可以用 count_stair_ways(n) = count_stair_ways(n-1) + count_stair_ways(n-2) 来递归计算走楼梯方式的次数，其中&lt;code>count_stair_ways(n-1)&lt;/code>代表一步走上第n阶的方式次数，&lt;code>count_stair_ways(n-2)&lt;/code>代表两步走上第n阶的次数。&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="k">def&lt;/span> &lt;span class="nf">count_stair_ways&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="k">elif&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">2&lt;/span>
&lt;span class="k">else&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">count_stair_ways&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">count_stair_ways&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;blockquote>
&lt;p>Q2: Consider a special version of the count_stairways problem,
where instead of taking 1 or 2 steps, we are able to take up to and including k steps at a time. Write a function count_k that figures out the number of paths for this scenario. Assume n and k are positive.&lt;/p>
&lt;/blockquote>
&lt;p>例如 n = 10, k = 3，count_k(10, 3) 可以倒推为：&lt;/p>
&lt;ol>
&lt;li>可能之前走了9个阶梯，最后一步为1&lt;/li>
&lt;li>可能之前走了8个阶梯，最后一步为2&lt;/li>
&lt;li>可能之前走了7个阶梯，最后一步为3&lt;/li>
&lt;/ol>
&lt;p>即 count_k(10, 3) = count_k(9, 3) + count_k(8, 3) + count_k(7, 3)，依次类推，count_k(9, 3) = count_k(8, 3) + count_k(7, 3) + count(6, 3)。最终收敛为 count(1, 3) = 1。&lt;/p>
&lt;p>在实现上，当 n &amp;lt; k 时，会生成 n-k, n-k+1, ..., 0, ..., n-1 等作为第一个参数，这时候，令 n == 0 时 return 1，令 n &amp;lt; 0 时 return 0 即可得出正确的结果。&lt;/p>
&lt;p>主函数：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="k">def&lt;/span> &lt;span class="nf">count_k&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="c1"># 一步&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="c1"># 若n &amp;lt; k之类，&lt;/span>
&lt;span class="c1"># count(2,3)=count(1,3)+count(0,3)+count(-1,3)=2&lt;/span>
&lt;span class="c1"># &lt;/span>
&lt;span class="c1"># count(3,4)=count(2,4)+count(1,4)+count(0,4)&lt;/span>
&lt;span class="c1"># count(2,4)=count(1,4)+count(0,4)=2&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="k">elif&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">&amp;lt;&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="n">n&lt;/span> &lt;span class="o">&amp;gt;&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">loop_cur&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">count_k&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">)&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;p>借助了一个 loop_cur 函数来生成递归相加的表达式：&lt;/p>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt">1
&lt;/span>&lt;span class="lnt">2
&lt;/span>&lt;span class="lnt">3
&lt;/span>&lt;span class="lnt">4
&lt;/span>&lt;span class="lnt">5
&lt;/span>&lt;span class="lnt">6
&lt;/span>&lt;span class="lnt">7
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="k">def&lt;/span> &lt;span class="nf">loop_cur&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">f&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">n&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">k&lt;/span>
&lt;span class="n">result&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="mi">0&lt;/span>
&lt;span class="k">while&lt;/span> &lt;span class="n">i&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">now&lt;/span> &lt;span class="o">+=&lt;/span> &lt;span class="n">f&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">n&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">k&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">i&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="o">-&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="n">result&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div></description><category domain="https://lusuzi.github.io/writing/acad/">acad</category><category domain="https://lusuzi.github.io/writing/tags/%E7%BC%96%E7%A8%8B/">编程</category><category domain="https://lusuzi.github.io/writing/tags/%E9%80%92%E5%BD%92/">递归</category></item><item><title>Python Environment Diagram Question</title><link>https://lusuzi.github.io/writing/acad/python-environment-diagram-question/</link><guid isPermaLink="true">https://lusuzi.github.io/writing/acad/python-environment-diagram-question/</guid><pubDate>Sun, 17 Jan 2021 15:07:28 +0800</pubDate><author>letter_chat@outlook.com (LuSuZi)</author><copyright>[署名 非商用 CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;p>要求根据此 Python 程序执行产生的环境变量关系图倒推原程序是什么。&lt;/p>
&lt;p>&lt;img src="../images/Python-Environment-Diagram-Question/Python-Environment-Diagram-Question.png" alt="Python-Environment-Diagram-Question">&lt;/p>
&lt;p>首先，看到 flip 函数返回 flip 函数，flop 函数返回 flop 函数，返回的都是自己，但是 Global frame 下 flip 名称指向的是原 flop 函数，而 flop 名称指向的是 flip 函数。所以，可以推测出调用部分的第一行填写的是 &lt;code>flip, flop = flop, flip&lt;/code>。&lt;/p>
&lt;p>然后，看 frame f1，是 flip 函数被调用了，且其参数 flop 被赋值为1，由于 flop 函数是 flip，flip 函数是 flop 了，故 &lt;code>flip(____)(3)&lt;/code>里先调用了 flop 函数，且其参数传的是1，即 flop(1) 。继续看 frame f1，本地变量 flip 指向的是个 lambda 函数，而且被返回了，其参数为 flip，故 flip 函数的 flip 变量被赋值的内容可先写为 &lt;code>flip = lambda flip: &lt;/code>。我们看到 frame f2 是个 lambda 函数被调用了，且其父函数是 f1，可见 f1 返回的 lambda 函数赋值为 flip 然后接着就被调用了，由于 f2 返回值为3，lambda 函数可写为&lt;code>flip = lambda flip: 3&lt;/code>；由 f2 内部的 flip 值为2可知 flop(1) 返回的 lambda 函数紧接着被调用时的参数为2，即 &lt;code>flip(____)(3)&lt;/code>里填的应该是 flop(1)(2) 。&lt;/p>
&lt;p>frame f3 调用的是 flop 函数，其参数 flip 值为3，这就是 flop(1)(2) 返回的值了。然后，返回了 flop 名称，其指向的是 flip 函数，接着被调用了，参数为3，即 &lt;code>flip(flop(1)(2))(3)&lt;/code> --&amp;gt; flip(3)(3) --&amp;gt; flop(3)。flop(3) 再次调用 flip 函数，这就是 f4 frame，参数 flop 被赋值为3，但是返回的却是 None ？上一次调用时参数 flop 被赋值为1时返回的不是个 lambda 函数吗？行为不一致，是由 if 语句控制的，这里 if 的条件我们可以填 &lt;code>flop == 3&lt;/code>（答案不唯一），然后内部语句填 &lt;code>return None&lt;/code>。&lt;/p></description><category domain="https://lusuzi.github.io/writing/acad/">acad</category><category domain="https://lusuzi.github.io/writing/tags/python/">python</category><category domain="https://lusuzi.github.io/writing/tags/%E4%B9%A0%E9%A2%98/">习题</category></item><item><title>我的学习观</title><link>https://lusuzi.github.io/writing/life/my-view-of-learning/</link><guid isPermaLink="true">https://lusuzi.github.io/writing/life/my-view-of-learning/</guid><pubDate>Fri, 27 Nov 2020 12:21:44 +0800</pubDate><author>letter_chat@outlook.com (LuSuZi)</author><copyright>[署名 非商用 CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;h3 id="学习与自我">学习与自我&lt;/h3>
&lt;p>我倾向于相信人类具有「自由意志」，人类前额叶皮质演化成占整个大脑皮质面积的将近1/3，而猴子只占1/10，猫只占1/30，这应该足以保证自由意志的存在。在假设人有「自由意志」的前提下，我想把人类的自由意志简单分为两层，首先是「隐性自由意志」，这是几乎所有人类都具备的，它是使人类与其他动物不同的主要原因；更高的那层是「显性自由意志」，即若一个拥有「隐性自由意志」的人去“怀疑自由意志是否存在”、“意识自己的意识”、“思考自己的思考”等等，即他开始去显性地思考「自由意志」了，则他的「隐性自由意志」就被激活为「显性自由意志」，他进一步就可以更加灵活地运用「自由意志」来改变「自我」了。&lt;/p>
&lt;p>在我看来，「学习」就是「自我超越」的过程。我们每个人都有各自独特的出身、性格、知识水平、价值观等，但这个「自我」的形态几乎是由过去内部决定性因素「基因」与外部决定性因素「环境」的交错作用所决定的。除非拥有「自由意志」，并在「自由意志」的主导下进行「学习」，以改造「自我」，才能摆脱「宿命」的束缚，实现「自我超越」。&lt;/p>
&lt;p>改造自我主要改变的是自己的大脑神经元，此外也包括身体的其他部分，通过有意识地学习，我们改变着神经元的连接与分布，可以让我们学会一门外语、学会数学计算、学会弹钢琴等等；甚至可以通过刻意地练习，改变我们对外界的情绪反应模式，以改变自己的所谓脾气、性格等；也完全可以学习模仿好的思维习惯，以改善我们的思考效率；对肌肉细胞进行相应刺激，我们可以改变身体相应部位的形态……每次「学习」，都能让我们得以重新定义「自我」，「学习」让「自我」从静态变成了动态，即学习前后，我们不是同一个人。&lt;/p>
&lt;h3 id="学习要诀">学习要诀&lt;/h3>
&lt;p>自己尝试也看别人尝试了非常多的学习方法，我发现&lt;strong>学习方法本身的有用程度取决于其合乎大脑学习记忆特征的程度&lt;/strong>，而&lt;strong>学习方法是否能取得预期效果则取决于使用者是否具备直面困难的能力&lt;/strong>，而这需要相应的自由意志的支撑，它决定着如注意力管理能力、自制力等影响因素。没有强大的自由意志，没有良好的自制力等，不可能做到直面困难，也不可能能够按照高效的学习方法一步步做下去。&lt;/p>
&lt;p>无法直面困难而避重就轻的人终归是低效的，二八定律总是存在，80%的进步靠啃下20%的困难部分铸就，那80%的简单部分只能提供20%的进步。我们不能专门只做简单愉悦的部分，而回避困难枯燥的部分，而是应该快速完成简单愉悦的部分，然后把节约出来的时间用于困难枯燥的部分。也就是说高效学习的本质就是困难和枯燥的，因为要求花更多的时间用于刻意地攻克难点；低效学习才可能是愉悦的，因为只做自己喜欢的而回避困难的。&lt;/p>
&lt;p>一个好的学习方法被某人使用发现没有多少效果，主要原因也是使用者跳过执行费力的步骤（即便有些学习方法中的步骤可以简化学习或使学习更有乐趣，但步骤本身也是需要刻意执行的），而只做自己感觉轻松的步骤，但实际上困难的那几步才是关键，能决定80%的学习效果。&lt;/p>
&lt;p>我们要想高效学习，光知道高效学习方法是远远不够的，还需要有自由意志的支撑，使得能&lt;strong>直面学习内容中的困难部分&lt;/strong>，使得能&lt;strong>直面学习方法中的费力步骤&lt;/strong>，这才是最关键的。&lt;/p>
&lt;h3 id="学习方法">学习方法&lt;/h3>
&lt;h4 id="一辅助">一、辅助&lt;/h4>
&lt;h5 id="1良好的睡眠">1.良好的睡眠&lt;/h5>
&lt;p>良好的睡眠是学习的最重要的保障，睡眠不好学习免谈。当天晚上的睡眠好，第二天精力充沛有利于新的学习，又由于睡觉是大脑整理记忆的时候，它很大程度决定了当天学习的吸收情况。&lt;/p>
&lt;h5 id="2高效的休息">2.高效的休息&lt;/h5>
&lt;p>注意，凡是看电视、看书、玩手机这种消耗精力的活动都不叫休息，它们只会让我们更累。&lt;/p>
&lt;p>休息也应该讲究效率，一天随时进行的定时“短”休息胜过长时间学习后的大段休息，且休息的这几分钟时间：1.动起来比不动好。2.户外比户内好。3.不要再想学习的事。4.与朋友随便聊聊天比独自一个人休息的效果好。&lt;/p>
&lt;p>午睡能快速恢复精力，性价比很高，但关键是不能超过25分钟，否则会有睡眠惯性，使得头脑昏昏沉沉的时间很长。&lt;/p>
&lt;h5 id="3简单的生活">3.简单的生活&lt;/h5>
&lt;p>不应该先有诱惑而后去抗拒，凡是主动或被动想考验自己抵抗诱惑能力的人，大多数都以失败告终，主动远离诱惑才不至于陷入被动。无谓的纠结和生活中的各种诱惑，会极大地消耗人的精力。保持&lt;a href="https://lusuzi.github.io/writing/writing/life/simplify-life/">简单生活&lt;/a>，减少选项，远离诱惑，能避免在选择和诱惑上耗能。&lt;/p>
&lt;h5 id="4冥想">4.冥想&lt;/h5>
&lt;p>找个不受打扰的时间，舒服地坐在一个安静的地方，深呼吸，意识始终停留在呼吸上，若意识到自己走神了，承认它，然后把它放走，继续回到呼吸上。&lt;/p>
&lt;p>它不仅能起到休息的作用，还能锻炼我们监控注意力的能力。&lt;/p>
&lt;h5 id="5运动">5.运动&lt;/h5>
&lt;p>运动提供着身体健康的整体性保障，为了达到基本的健康获益，成人每周至少需要150分钟的中等强度身体活动或75分钟高强度的有氧运动，以及两天或两天以上的肌肉力量训练。为了达到进一步的健康获益，成人应将每周中等强度有氧运动的时间增加至300分钟或将高强度的有氧运动的时间增加至150分钟。&lt;sup id="fnref:1">&lt;a href="https://lusuzi.github.io/writing/life/my-view-of-learning/#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;h5 id="6饮食">6.饮食&lt;/h5>
&lt;p>饮食同样提供着身体健康的整体性保障，与学习效率息息相关。&lt;/p>
&lt;p>目前最靠谱的饮食指南之一是美国的膳食指南&lt;sup id="fnref:2">&lt;a href="https://lusuzi.github.io/writing/life/my-view-of-learning/#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>，核心内容有：&lt;/p>
&lt;ol>
&lt;li>谷类食物是基础，且应保证至少一半以上是全谷物，也就是常说的粗粮。&lt;/li>
&lt;li>蔬菜摄入应当多样化，比如绿色（青菜）、红色（西红柿）、橙色（南瓜）等不同颜色蔬菜，豆类（大豆、豌豆）、淀粉类（土豆、红薯）等都需要吃一点。&lt;/li>
&lt;li>水果也是必须的，建议直接食用完整水果，而不要总是用榨汁机。&lt;/li>
&lt;li>蛋白质类食物摄入也应该多样化，包括鱼肉、瘦肉、禽肉、蛋、豆类、坚果、种子以及其他豆类产品。&lt;/li>
&lt;li>乳制品。一天要喝大约708ml脱脂或低脂的牛奶或奶制品。&lt;/li>
&lt;/ol>
&lt;p>如果用一个餐盘表示的话，一个好的饮食结构应该是水果和蔬菜占餐盘的一半，谷类和蛋白质类占一半，其中蔬菜略多于水果，谷类略多于蛋白质类，并最好保证每餐都有一杯约240ml的牛奶。&lt;/p>
&lt;p>&lt;img src="../images/%E6%88%91%E7%9A%84%E5%AD%A6%E4%B9%A0%E8%A7%82/USDA_MyPlate_green-1624520533371.svg" alt="USDA_MyPlate_green">&lt;/p>
&lt;h4 id="二技巧">二、技巧&lt;/h4>
&lt;h5 id="1先做困难事项">1.先做困难事项&lt;/h5>
&lt;p>把意志力最强和越不受干扰的宝贵时间优先用于完成最困难的事项，例如早上，不仅趁热打铁不费劲，而且在搞定主要一件件主要任务后使该天剩余时段压力更小。&lt;/p>
&lt;h5 id="2调动学习情绪">2.调动学习情绪&lt;/h5>
&lt;p>集中注意力，并尽量通过如赋予意义、增加难度、设定挑战等，调动学习的积极情绪。累了就休息，心情不好就出去玩，不要强迫自己学习，而要擅于引导大脑调整为好的学习状态。在学习过程中，我们需要调动的情绪是像惊喜、好奇、有趣、“我里个去！”以及解决了一道谜题那种成就感等，既有利于大脑记忆，也有助于保持注意力。&lt;/p>
&lt;h5 id="3可视化">3.可视化&lt;/h5>
&lt;p>图片比单纯的文字更容易记住，这让学习更有效率（在回忆与转换研究中发现其能达到89%的改善作用），也让事情变得更容易理解。将文字放在与其相关联的图片旁（而不是放在底部或者第二页），学习者将有后者的两倍的几率解决与之相关的问题。&lt;/p>
&lt;h5 id="4实践中学习">4.实践中学习&lt;/h5>
&lt;p>学习知识时尽量找到能使用它们的场景，边学边用，利用每一个反馈不断调整自己。在学习效率金字塔中，该法吸收效率位于最顶端。要通过实践让我们被带动、专注、感觉好奇、被激励地去解决问题、形成结论以及产生新知识。&lt;/p>
&lt;h5 id="5设定与拆解目标">5.设定与拆解目标&lt;/h5>
&lt;p>学习前应该设定学习目标，且应该将大目标拆解成一个个小任务并逐个击破，这充分顺应了大脑的注意力机制。由于20%的内容决定了80%的学习效果，应识别重点任务，对最重要的学习内容进行反复学习。&lt;/p>
&lt;h5 id="6间隔重复">6.间隔重复&lt;/h5>
&lt;p>对于一定的学习内容，少数多次地学完比一次性学完的效果要好很多，且并非复习地越多越好，对于有逻辑关联的内容，也就是绝大多数学习内容，最佳复习间隔为：&lt;/p>
&lt;blockquote>
&lt;p>第一次学过之后，一两天之内复习一次，然后过一个星期再复习，过一个月再复习。之后，复习间隔可拉得更长。&lt;/p>
&lt;/blockquote>
&lt;h5 id="7三分阅读七分回想">7.三分阅读七分回想&lt;/h5>
&lt;p>用大概30%的时间阅读，并用70%的时间去使用头口化、个人化风格背诵与复述，即刻自我检测，因为不断地费力地提取记忆的动作能极大地加深记忆，而重复地阅读过多次是低效的。&lt;/p>
&lt;h4 id="三输出">三、输出&lt;/h4>
&lt;h5 id="1集中注意力">1.集中注意力&lt;/h5>
&lt;p>找个安静的、无诱惑的场所，关闭手机，深呼吸，将注意力全部集中在当下，开始逐件完成学习任务。&lt;/p>
&lt;h5 id="2番茄工作法">2.番茄工作法&lt;/h5>
&lt;p>间隔学习+休息，大致学习25分钟休息5分钟，休息时走动一下，放空大脑。&lt;/p>
&lt;h5 id="3回顾式学习">3.回顾式学习&lt;/h5>
&lt;p>阅读、看视频或听音频等无论哪种媒介，学习一段后暂停，回顾前面所学，尽可能在头脑中或画图或借助已有图片进行可视化，尽全力进行总结。学习完一大段，还要自己拿试卷、提问题等进行自我测验。&lt;/p>
&lt;h5 id="4追踪式学习">4.追踪式学习&lt;/h5>
&lt;p>对大的学习任务进行拆分，并用表格记录各段学习日期与计划间隔复习的日期；对错题进行追踪，间隔重做，不遗漏任何不懂的重点问题。&lt;/p>
&lt;h5 id="5输出式学习">5.输出式学习&lt;/h5>
&lt;p>尽量找到能使用所学知识的场景，在学习过程中不断输出，构建学习的反馈系统。最好能有构建自己相应作品的大计划，在学习中逐渐实现它。&lt;/p>
&lt;h5 id="6费曼学习法">6.费曼学习法&lt;/h5>
&lt;blockquote>
&lt;ol>
&lt;li>选择一个概念。选一个你想弄明白的概念，写在空白的笔记本或者纸的最上面。&lt;/li>
&lt;li>解释这个概念。把解释这个概念的东西写成一句话，就像你在告诉一个完全不知道这个领域的菜鸟一样。这一步可以让你在阐释这个概念的过程中，可以让你明白你有没有搞懂这个概念，并在这个过程中加深对这个概念的理解。&lt;/li>
&lt;li>解释不了时。当你发现你没办法解释的时候，回到书上面去，或者找同学、找老师、找已经懂的人，把书上的概念再重新研究一遍，直到你能在纸上流畅地把这个概念解释出来。&lt;/li>
&lt;li>简化语言、学会类比。如果出现一个很学术的或抽象的词语的时候，试着要么平实化词语，要么学会用别的东西来类比它。&lt;/li>
&lt;/ol>
&lt;/blockquote>
&lt;h3 id="个人流程">个人流程&lt;/h3>
&lt;div class="highlight">&lt;div class="chroma">
&lt;table class="lntable">&lt;tr>&lt;td class="lntd">
&lt;pre class="chroma">&lt;code>&lt;span class="lnt"> 1
&lt;/span>&lt;span class="lnt"> 2
&lt;/span>&lt;span class="lnt"> 3
&lt;/span>&lt;span class="lnt"> 4
&lt;/span>&lt;span class="lnt"> 5
&lt;/span>&lt;span class="lnt"> 6
&lt;/span>&lt;span class="lnt"> 7
&lt;/span>&lt;span class="lnt"> 8
&lt;/span>&lt;span class="lnt"> 9
&lt;/span>&lt;span class="lnt">10
&lt;/span>&lt;span class="lnt">11
&lt;/span>&lt;span class="lnt">12
&lt;/span>&lt;span class="lnt">13
&lt;/span>&lt;span class="lnt">14
&lt;/span>&lt;span class="lnt">15
&lt;/span>&lt;span class="lnt">16
&lt;/span>&lt;span class="lnt">17
&lt;/span>&lt;span class="lnt">18
&lt;/span>&lt;span class="lnt">19
&lt;/span>&lt;span class="lnt">20
&lt;/span>&lt;span class="lnt">21
&lt;/span>&lt;span class="lnt">22
&lt;/span>&lt;span class="lnt">23
&lt;/span>&lt;span class="lnt">24
&lt;/span>&lt;/code>&lt;/pre>&lt;/td>
&lt;td class="lntd">
&lt;pre class="chroma">&lt;code class="language-python" data-lang="python">&lt;span class="c1"># pseudo-code of my procedure in Python&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="nn">Github&lt;/span>&lt;span class="o">,&lt;/span> &lt;span class="nn">Habitica&lt;/span>
&lt;span class="kn">from&lt;/span> &lt;span class="nn">LuSuZi&lt;/span> &lt;span class="kn">import&lt;/span> &lt;span class="n">break_down&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">simplify&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">just_do_it&lt;/span>
&lt;span class="k">while&lt;/span> &lt;span class="n">Alive&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;LuSuZi&amp;#39;&lt;/span>&lt;span class="p">):&lt;/span>
&lt;span class="n">habits&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">tasks&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">todos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Habitica&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">output&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="c1"># 执行目标任务&lt;/span>
&lt;span class="k">for&lt;/span> &lt;span class="n">i&lt;/span> &lt;span class="ow">in&lt;/span> &lt;span class="n">habits&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">tasks&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="n">todos&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="n">just_do_it&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">i&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">Habitica&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">reward&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="c1"># 统计与回顾时间&lt;/span>
&lt;span class="n">Github&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">record&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="c1"># 规划目标任务&lt;/span>
&lt;span class="n">habits&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Habitica&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">habit&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="n">tasks&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Habitica&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">task&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="n">goal&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">Github&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">project&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="n">issues&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">break_down&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">goal&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">todos&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">simplify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">issues&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">Github&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">time&lt;/span>&lt;span class="o">.&lt;/span>&lt;span class="n">set&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="n">Habitica&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">habits&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">tasks&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="n">todos&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="n">day&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="n">day&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="mi">1&lt;/span>
&lt;/code>&lt;/pre>&lt;/td>&lt;/tr>&lt;/table>
&lt;/div>
&lt;/div>&lt;section class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1" role="doc-endnote">
&lt;p>参见《美国居民身体活动指南》。&amp;#160;&lt;a href="https://lusuzi.github.io/writing/life/my-view-of-learning/#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2" role="doc-endnote">
&lt;p>&lt;a href="https://en.wikipedia.org/wiki/List_of_nutrition_guides#United_States">https://en.wikipedia.org/wiki/List_of_nutrition_guides#United_States&lt;/a>.&amp;#160;&lt;a href="https://lusuzi.github.io/writing/life/my-view-of-learning/#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/section></description><category domain="https://lusuzi.github.io/writing/life/">life</category><category domain="https://lusuzi.github.io/writing/tags/%E5%AD%A6%E4%B9%A0/">学习</category><category domain="https://lusuzi.github.io/writing/tags/%E5%BF%83%E6%80%81/">心态</category></item><item><title>完美主义者自救指南</title><link>https://lusuzi.github.io/writing/life/perfectionist-self-help-guide/</link><guid isPermaLink="true">https://lusuzi.github.io/writing/life/perfectionist-self-help-guide/</guid><pubDate>Mon, 23 Nov 2020 10:06:13 +0800</pubDate><author>letter_chat@outlook.com (LuSuZi)</author><copyright>[署名 非商用 CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;p>虽然也有人以「完美主义」为豪，但「完美主义」最常与「脆弱的」这个形容词一起出现；&lt;a href="https://www.google.com/search?ei=xR67X_7UNZmZ4-EPq7uMmA0&amp;amp;q=%E5%AE%8C%E7%BE%8E%E4%B8%BB%E4%B9%89&amp;amp;oq=%E5%AE%8C%E7%BE%8E%E4%B8%BB%E4%B9%89&amp;amp;gs_lcp=CgZwc3ktYWIQAzICCAAyBAgAEAwyAggAMgIIADIECAAQDDICCAAyAggAMgIIADICCAAyAggAUPMuWLA7YK09aABwAHgAgAGTBIgB6RuSAQU0LTIuNZgBAKABAaoBB2d3cy13aXrAAQE&amp;amp;sclient=psy-ab&amp;amp;ved=0ahUKEwi-y7vSz5ftAhWZzDgGHasdA9MQ4dUDCA0&amp;amp;uact=5">谷歌搜索「完美主义」&lt;/a>，显示的是「用户还搜索了： 延宕， 强迫症， 焦虑， 躁郁症， 恐惧， 注意缺陷障碍」。可见「完美主义」通常并不是什么好词。&lt;/p>
&lt;p>实际上，有研究者对「完美主义」作了大致区分：&lt;/p>
&lt;blockquote>
&lt;p>适应性完美主义（即正常的完美主义）是设置高成就标准、努力追求成功的倾向，反映个体对高个人标准和成就的主动追求，&lt;strong>可以容忍在达成标准中的失败，不会对自尊造成无法恢复的损伤&lt;/strong>。既能带给人们追求目标的动力，同时给他们带来乐趣。&lt;/p>
&lt;p>而非适应性完美主义（即神经质的完美主义），同样是追求高标准目标，但他们失败时会感觉到极大的痛苦，导致他们往往是在追求避免犯错，而不是在追求原目标。&lt;sup id="fnref:1">&lt;a href="https://lusuzi.github.io/writing/life/perfectionist-self-help-guide/#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>&lt;/p>
&lt;/blockquote>
&lt;p>简言之：&lt;/p>
&lt;blockquote>
&lt;p>完美主义：追求高标准目标的倾向&lt;/p>
&lt;p>适应性完美主义：追求完美，但可以容忍不完美&lt;/p>
&lt;p>非适应性完美主义：追求完美，但不能容忍不完美&lt;/p>
&lt;/blockquote>
&lt;p>现实生活中，我们谈论的「完美主义」大多指的是「非适应性完美主义」，饱受困扰的也是「非适应性完美主义者」，故以下的「完美主义」指的是「非适应性完美主义」，而文章内容实际为「非适应性完美主义者自救指南」。&lt;/p>
&lt;hr>
&lt;p>我过去是完美主义者，现在还是，它已经开始阻碍我的进步了。我识别了这个问题，并打算修复它。所以写这篇文章不仅为帮助他人，更是在自我疗愈。&lt;/p>
&lt;p>我深知解决思维和态度上的问题，..改变认知..才是根本。层层剖析，摆事实，讲道理，颠覆底层价值观，重构认知，进而得以改变行为习惯。&lt;/p>
&lt;p>完美主义，意味着&lt;strong>追求目标的完美，同时不能容忍过程和结果的不完美&lt;/strong>。于是，治疗分两步走。第一步，不追求目标的完美；第二步，容忍过程和结果的不完美。&lt;/p>
&lt;h3 id="1不追求目标的完美">1.不追求目标的完美&lt;/h3>
&lt;p>首先，一个人所拥有的各项资源几乎都是有限的，最刚性的约束是时间。在死亡面前，人人生而平等，对于任何一个人，无论贫富出身，无一例外唯一可以百分百确定的是——他将死去。Time is the currency of life. 对于任何一个人，他此时的预期时间余额都是0到43830天&lt;sup id="fnref:2">&lt;a href="https://lusuzi.github.io/writing/life/perfectionist-self-help-guide/#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>之间的一个数，例如，对目前的我来说大概还有21000天，等待我的终归是死亡。&lt;/p>
&lt;p>作为人类，我们一生中需要花去约20年才能发育为成熟个体，之后，还需要工作折合约10年以获取赖以生存的资源……&lt;/p>
&lt;p>&lt;img src="../images/%E5%AE%8C%E7%BE%8E%E4%B8%BB%E4%B9%89%E8%80%85%E8%87%AA%E6%95%91%E6%8C%87%E5%8D%97/how-much-time-we-have-infographic.webp" alt="how-much-time-we-have-infographic">&lt;/p>
&lt;p>此外，还有金钱、基因、精力、文化、信息、科技发展水平、随机性等各种其他约束……&lt;/p>
&lt;p>我们各阶段需要做什么事、有多少资源去做等等基本都是被约束着的，我们没有太多时间精力实现脑中闪过的所有愿望，我们的人生总会有缺憾，总有想做的事情由于各种条件受限或有其他事情要做而不得不做。更糟糕的是，很多事情即便我们致力去做，也不一定能做到。&lt;strong>不完美才是人生的常态&lt;/strong>。&lt;/p>
&lt;p>对此，我们唯一可以做的，是&lt;strong>直面人生的不完美&lt;/strong>。&lt;/p>
&lt;p>徐志摩有首诗：&lt;/p>
&lt;blockquote>
&lt;p>《偶然》&lt;/p>
&lt;p>我是天空里的一片云，&lt;/p>
&lt;p>偶尔投影在你的波心——&lt;/p>
&lt;p>你不必讶异，&lt;/p>
&lt;p>更无须欢喜——&lt;/p>
&lt;p>在转瞬间消灭了踪影。&lt;/p>
&lt;p>你我相逢在黑夜的海上，&lt;/p>
&lt;p>你有你的，我有我的，方向；&lt;/p>
&lt;p>&lt;strong>你记得也好&lt;/strong>，&lt;/p>
&lt;p>&lt;strong>最好你忘掉&lt;/strong>，&lt;/p>
&lt;p>在这交会时互放的光亮！&lt;/p>
&lt;/blockquote>
&lt;p>「你记得也好，最好你忘掉」，与不顾一切、害怕失去相比，直面现实、接受现实更显得成熟与勇敢。&lt;/p>
&lt;p>对此，我们不需要也不应该设置完美的、面面俱到的目标，而是应该学会放弃。正如林语堂所言，「除了把事情做好的崇高艺术，还有把事情搁下不做的崇高艺术。人生的智慧在于剔除没有必要的事物。」&lt;/p>
&lt;p>成大事者所走的路必然是困难重重，不可能可以不费任何代价达到目标，必然需要放弃些什么、必然会产生残缺。&lt;/p>
&lt;p>关于巴菲特有这样一则故事：&lt;/p>
&lt;blockquote>
&lt;p>Mike Flint 做了巴菲特的私人飞行员十年之久，还曾为美国四任总统开过飞机，但他仍在事业上有着更多追求。有一次，他和巴菲特在探讨他的职业生涯目标时，巴菲特让他去做这么一件事：&lt;/p>
&lt;p>首先，巴菲特让 Flint 写下他职业生涯最重要的 25 个目标来。于是，Flint 花了一些时间，把这些目标写了下来。&lt;/p>
&lt;p>然后，巴菲特让他审视一下这个清单，然后圈出他认为最重要的 5 个。Flint 也照做了。&lt;/p>
&lt;p>Flint 现在有了两个清单。一个是他认为自己职业生涯最重要的 5 个目标，另一个是另外 20 个他也觉得比较重要的事。&lt;/p>
&lt;p>巴菲特问 Flint：你现在知道该怎么做了么？Flint 答：知道了。我现在会马上开始着手于实现这 5 个目标。至于另外 20 个，并没有那么紧急，所以可以放在闲暇的时间去做，然后慢慢把它们实现。&lt;/p>
&lt;p>巴菲特听完后说到：不 Mike，你搞错了。那些你并没有圈出来的目标，不是你应该在闲暇时间慢慢完成的事，而是你应该尽全力避免去做的事——你应该像躲避瘟疫一样躲避它们，不去花任何的时间和注意力在它们上面。&lt;sup id="fnref:3">&lt;a href="https://lusuzi.github.io/writing/life/perfectionist-self-help-guide/#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>&lt;/p>
&lt;/blockquote>
&lt;p>这正揭示了巴菲特的成功之道。巴菲特曾说成功人士和真正的成功人士之间的区别是后者几乎对所有事情都说不。例如，巴菲特建立了一套非常严格的筛选机制，真正有价值的项目他才投资，而对其他大量的投资机会说不，才使他得以集中精力与资金获得超额回报。&lt;/p>
&lt;p>放弃让人能集中时间和注意力在真正重要的事情，产生聚焦的效果，正是放弃使人具有力量，正是残缺让人生成为艺术，而追求完美、没有残缺，注定毫无力量。&lt;/p>
&lt;p>未来春藤家长学院CEO老喻则以算法的形式对此进行了概括。&lt;/p>
&lt;p>&lt;img src="../images/%E5%AE%8C%E7%BE%8E%E4%B8%BB%E4%B9%89%E8%80%85%E8%87%AA%E6%95%91%E6%8C%87%E5%8D%97/radius-algorithm.svg" alt="radius-algorithm">&lt;/p>
&lt;p>用一句话概括这套「半径算法」，即&lt;strong>扩大认知半径，明确能力半径，减小行动半径。&lt;/strong>&lt;/p>
&lt;ul>
&lt;li>
&lt;p>第一，认知半径要尽可能地宽，否则会视野狭窄。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>第二，能力半径要尽可能地明确，能力圈大或小不重要，重要的是你知道自己的能力圈有多大，然后待在里面。&lt;/p>
&lt;/li>
&lt;li>
&lt;p>第三，行动半径要尽可能地小，找到长期去做的那件事，集中资源把它做到最好。&lt;/p>
&lt;/li>
&lt;/ul>
&lt;p>抑制住目标完美化的冲动，让行动半径保持尽可能小，这也是要懂得放弃。&lt;/p>
&lt;p>凡选择皆有代价。你想得到什么，那你愿意放弃什么？&lt;/p>
&lt;h3 id="2容忍过程和结果的不完美">2.容忍过程和结果的不完美&lt;/h3>
&lt;p>除了倾向于追求目标的完美外，完美主义者的另一困扰是不能容忍过程的不完美，这其中的关键是要&lt;strong>改变对待失败的心态&lt;/strong>。&lt;/p>
&lt;p>我们的生活处处充满不确定，你无法百分百确信明天天气真如天气预报所说，无法百分百确定今天下班后老板会不会批评你，甚至无法百分百确定下一秒某人还活着。小概率事件并不罕见，特别是事情越复杂、步骤越多，受到随机性的影响会越大。完美主义者的问题在于思维过于直线化，把达到目标的过程理解成了一个个简单的步骤，并对每一步确信无疑，而无视随机的力量。实际上，我们能控制的事情不多，总有我们考虑不周的地方，总有一些事情的发展轨迹偏离我们的预期，甚至连我们自己都不是完全可控的，我们每个人其实大部分时间都是“自动驾驶的”，认为很多事情是我们自主作出的不过是大脑的一个高明的把戏。&lt;sup id="fnref:4">&lt;a href="https://lusuzi.github.io/writing/life/perfectionist-self-help-guide/#fn:4" class="footnote-ref" role="doc-noteref">4&lt;/a>&lt;/sup>重要的不是直线到达目标（这在随机性的世界里也几乎不可能），而是即便遭遇失败，也仍然向着目标前进。&lt;/p>
&lt;p>&lt;img src="../images/%E5%AE%8C%E7%BE%8E%E4%B8%BB%E4%B9%89%E8%80%85%E8%87%AA%E6%95%91%E6%8C%87%E5%8D%97/perfectionism.svg" alt="perfectionism">&lt;/p>
&lt;p>正如伏尔泰所说，完美是优秀的敌人。完美主义者在追求目标的过程中，为了过程的完美而很容易陷入避免犯错的陷阱中，且遇到一个小错误就彻底毁掉了心中的完美设想，接着又选择不接受现实。这种脆弱性让完美主义者反而难以达到优秀。&lt;/p>
&lt;p>对此，我们应该拥抱随机性，承认哪怕是简单的目标也有其不可控性，承认达成目标的过程永远都不是直线的，把失败当作反馈，发现了问题就改进，不断接近目标。&lt;/p>
&lt;p>除了要能够容忍过程的不完美，最好还应该能够容忍最终结果的不完美，我知道这对完美主义者来说非常难以接受，但考虑以下事实：假设摆在你面前有两个选项。选 A，成功率是60%；选 B，成功率只有40%。科学的决策当然是坚决选 A。那如果你选了 A 之后发现结果却是 B 正确，你能说当初不该选 A 吗？当然不能。我们不能事后诸葛亮，认为如果结果不好，当初肯定决策有问题。而是应该尊重随机性，要关注的是决策过程的合理性，而不能唯结果论事。&lt;/p>
&lt;p>此外，我们也要考虑要求过高的可能性。如前所述，完美主义者倾向于追求目标的完美，喜欢面面俱到，可能使得各目标分配到的时间精力非常有限，却要达成完美。这个时候，受限于条件，实际上可能能完成目标的大部分就已经非常不错了，这时我们得接受结果的不完美。&lt;/p>
&lt;p>&lt;img src="../images/%E5%AE%8C%E7%BE%8E%E4%B8%BB%E4%B9%89%E8%80%85%E8%87%AA%E6%95%91%E6%8C%87%E5%8D%97/perfectionism-2.jpg" alt="perfectionism-2">&lt;/p>
&lt;p>完美主义者不缺乏认真的态度，只需一点直面现实的勇气，就能让我们成为优秀的人。愿你我都能够勇敢地迈出这一步。&lt;/p>
&lt;section class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1" role="doc-endnote">
&lt;p>Hamachek, D. E. (1978). psychodynamics of normal and neurotic perfectionism. Psychology, 15, 27-33.&amp;#160;&lt;a href="https://lusuzi.github.io/writing/life/perfectionist-self-help-guide/#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2" role="doc-endnote">
&lt;p>科学家根据端粒以及细胞的分裂周期，推测人类的理论极限寿命大约是120岁。&amp;#160;&lt;a href="https://lusuzi.github.io/writing/life/perfectionist-self-help-guide/#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3" role="doc-endnote">
&lt;p>摘自 &lt;a href="https://zhuanlan.zhihu.com/p/22812913">https://zhuanlan.zhihu.com/p/22812913&lt;/a> 。&amp;#160;&lt;a href="https://lusuzi.github.io/writing/life/perfectionist-self-help-guide/#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:4" role="doc-endnote">
&lt;p>详见《注意力：专注的科学与训练》。&amp;#160;&lt;a href="https://lusuzi.github.io/writing/life/perfectionist-self-help-guide/#fnref:4" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/section></description><category domain="https://lusuzi.github.io/writing/life/">life</category><category domain="https://lusuzi.github.io/writing/tags/%E6%96%B9%E6%B3%95/">方法</category><category domain="https://lusuzi.github.io/writing/tags/%E5%BF%83%E6%80%81/">心态</category></item><item><title>简单生活</title><link>https://lusuzi.github.io/writing/life/simplify-life/</link><guid isPermaLink="true">https://lusuzi.github.io/writing/life/simplify-life/</guid><pubDate>Wed, 11 Nov 2020 15:29:47 +0800</pubDate><author>letter_chat@outlook.com (LuSuZi)</author><copyright>[署名 非商用 CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;p>面对越来越复杂的生活，近几年兴起了一波「极简主义」浪潮，倡导「极简生活」。这可能确实是此情此景下生活方式与心态上的一大进步，但是似乎留下了一个 bug，其问题在于这个「极」字。&lt;/p>
&lt;p>百度百科对&lt;a href="https://baike.baidu.com/history/%E6%9E%81%E7%AE%80%E4%B8%BB%E4%B9%89/6588186/154357836">极简主义的定义（2020-10-04版）&lt;/a>如下：&lt;/p>
&lt;blockquote>
&lt;p>极简主义是生活及艺术的一种风格，本意在于&lt;strong>极力追求简约&lt;/strong>，并且拒绝违反这一形态的任何事物。&lt;/p>
&lt;/blockquote>
&lt;p>我认为「极简」同「极乱」一样，都是复杂度天平上的极端。极简主义对如今过度浮躁的社会风气具有矫正作用，如网络时代下的事事凑热闹、对各种资料的收集癖以及对感情的贪婪等。但极简主义存在矫枉过正的嫌疑，因为极简也容易导向另一个极端——完美主义——固执地一定要清空所有的杂物、所有的烦恼、所有的欲望，与一切都断舍离。&lt;/p>
&lt;p>我们的确存在过度复杂化的倾向，但面对人的差异性，每个人所需要的简化程度是不同的，极简主义并不适合每个人，反而只适合少部分人。我们需要的并不是「极简的生活」，而是「简单的生活」，「简单」二字是自带「相对性」性质的，因为每个人认为的简单都不一样，想着「我要简单的生活」，做起来时会以自身过去的复杂程度做比较，进行简化。这样能避免「极简主义」口号下「过度简化」的倾向。&lt;/p>
&lt;p>简单生活&lt;sup id="fnref:1">&lt;a href="https://lusuzi.github.io/writing/life/simplify-life/#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>，确实能让人过得更幸福。&lt;/p>
&lt;p>如无必要，勿增实体。我们生活中其实不需要那么多物品。如果对比古人与现代人拥有的物品，估计现代人的生活物品比古代皇帝还要繁杂。请你带着客观的态度思考一下你的个人物品：&lt;/p>
&lt;blockquote>
&lt;p>有哪些对于目前的生活丝毫没有用的？&lt;/p>
&lt;p>有哪些是跟风买的？&lt;/p>
&lt;p>有哪些是在商家的宣传下「植入了购买意念」买的？&lt;/p>
&lt;p>有哪些是一时冲动下单的？&lt;/p>
&lt;p>...&lt;/p>
&lt;/blockquote>
&lt;p>你真的需要它们吗？如果其实少了某些物品也丝毫没有影响，那么，是什么原因导致你还保留它们呢？&lt;/p>
&lt;blockquote>
&lt;p>花了钱，舍不得仍？&lt;/p>
&lt;p>充满珍贵的回忆，舍不得仍？&lt;/p>
&lt;p>怕以后还需要？&lt;/p>
&lt;p>...&lt;/p>
&lt;/blockquote>
&lt;p>这些原因中哪些不合理，又有哪些真的合理？这样思考之后，希望你能有所发现。&lt;/p>
&lt;p>对「购物」这件事我们应该要非常地谨慎，它是一种做起来爽但其结果很容易不爽的事情。首先，购物意味着耗费一定的「时间+金钱」，而且二者相加大致守恒，即如果货比三家领券寻实惠，则金钱花费更少而时间花费更多，反之亦然。其次，购入过多物品也会导致生活变繁杂，因为每一件物品都在我们的记忆里占有一席之地，多一件物品就多损耗一份注意力。而买入大量非必需品实际上是在用有限的金钱喂养无限的欲望，对于非必需品，最省钱的不是一年一度的打三折，而是「不购买」。最后，物品的处理又会成为问题，真金白银买的，但要处理时却发现左右为难，卖出时的廉价、对物品的感情、日益拥挤的房间等考量因素交织在一起，再次耗费心理能量。&lt;/p>
&lt;p>而抑制住一时爽的冲动，只买必需品，随后获得的才是真正的幸福。只买必需品不仅意味着满足了合理的需求，而且意味着金钱花得少，有更多的财富剩余投入到其他重要的事情。只买必需品也避免了很多购入物品、打理物品和处理物品时耗费的心理能量。只买必需品充分发挥了金钱的价值，让人感觉心理踏实，甚至让人觉得自己花钱花成了艺术。&lt;/p>
&lt;p>当然，也要区分你所认为的“必需品”是否真的“必需”，不然“必需品”也会堆砌出繁杂。目前，我发现物品购买严重过度的领域有两个，分别是美容品和保健品。大量只是人群「相信有效」但从未被证实的物质被排列组合地生产出各种护肤品和保健品，经过广告宣传，被推销出去。而一些刚被初步证实「可能有效」还需进一步研究其安全和有效性的物质，也被商家蜂拥抢先应用于新产品，进行新一轮的推销。结果，很多女人化妆台前充斥着各类高价的虚假宣传的护肤品，很多老人自己购买和被送了大堆无用甚至有害的保健品，很多孩子「被服用」各类号称可以让人变聪明的无用或影响微乎其微的保健品。&lt;/p>
&lt;p>但其实，已成共识的科学有效的皮肤管理方式反而是简单的，只需要一瓶洗面奶、一瓶保湿乳和一瓶防晒霜即可。而科学有效的健康管理方式同样是简单的，即便做起来难，但别无更好的选择。&lt;/p>
&lt;blockquote>
&lt;p>皮肤保养 = 清洁 + 保湿 + 防晒&lt;/p>
&lt;/blockquote>
&lt;blockquote>
&lt;p>健康管理 = 避免慢性自杀 + 合理的饮食 + 适当的锻炼 + 良好的心态&lt;/p>
&lt;/blockquote>
&lt;p>如果说各商品抢占的是「国民总收入」，那各手机APP抢占的则是「国民总注意力」。对下载手机APP这件事也应该要非常地谨慎，最好先明确它的用途，适用范围，可能带来的问题等。手机里各APP互为竞品，都在想方设法地抢夺你宝贵的注意力，加上国内软件的流氓气息，如各类弹窗广告推送，管理一大堆APP同样非常耗费注意力。注册的各类中心化平台账户越多，活动越活跃，也就意味着你的信息被越多商家掌握以及掌握得越透彻，你将越来越难远离广告的炮轰。我们最好定期将不用的APP卸载、不用的账户注销，以及找找什么APP能顶替多个APP，这样就可以进一步减少APP的数量。此外，任何珍惜自己注意力的人都应该选择良心手机以及善用手机的应用权限管理，恰当地阻止各种无用的推送。&lt;/p>
&lt;p>正如「简化生活」的目的是「生活」，「简化」只是手段，不应该把它当成了目的导致落脚点成了「极力追求生活『简约』」。消费、使用手机等行为的「目的 」 也是为了让生活变得更美好，但它们本身也只是「手段」，不应该成为「目的」的阻碍，不应该因为「手段」而忘记最终的「目的」。&lt;/p>
&lt;section class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1" role="doc-endnote">
&lt;p>这里「简单」是动词，即「使...简单」。&amp;#160;&lt;a href="https://lusuzi.github.io/writing/life/simplify-life/#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/section></description><category domain="https://lusuzi.github.io/writing/life/">life</category><category domain="https://lusuzi.github.io/writing/tags/%E5%BF%83%E6%80%81/">心态</category><category domain="https://lusuzi.github.io/writing/tags/%E6%96%B9%E6%B3%95/">方法</category></item><item><title>谈现代化写作</title><link>https://lusuzi.github.io/writing/life/on-modern-writing/</link><guid isPermaLink="true">https://lusuzi.github.io/writing/life/on-modern-writing/</guid><pubDate>Thu, 05 Nov 2020 23:19:57 +0800</pubDate><author>letter_chat@outlook.com (LuSuZi)</author><copyright>[署名 非商用 CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)</copyright><description>&lt;h2 id="写作的步骤">写作的步骤&lt;/h2>
&lt;p>从实践角度看，我认为写作包括记录想法、扩充完善想法、修改完善想法和发表文章这四个步骤，且实现方式可以是一个类似演化的过程。&lt;/p>
&lt;p>&lt;img src="../images/%E8%B0%88%E7%8E%B0%E4%BB%A3%E5%8C%96%E5%86%99%E4%BD%9C/on-modern-writing.svg" alt="on-modern-writing">&lt;/p>
&lt;h3 id="1-记录想法">1. 记录想法&lt;/h3>
&lt;p>想法的数量和质量依赖读书与人生阅历的积累，尽管有数量和质量的不同，每个人起码都是能够产生各种想法的，即几乎每个人都具备写作这个能力，但实际上能写出原创性文章的人却很少，我认为主要是第一步——记录想法这一环节出了问题。&lt;/p>
&lt;p>这一论调与普遍教导的“读书多了，想法也就多了，自然就会写了”不太一样，读书当然有助于写作，但我认为在实际操作中，「记录想法」更直接导致着「写作」这一行为能不能形成。我们日常生活中会产生各种想法，但很多想法都是一闪而过然后没有记录，就被遗忘了，其中不乏好的想法。唐代诗人&lt;a href="https://baike.baidu.com/item/%E6%9D%8E%E8%B4%BA/764?fr=aladdin">李贺&lt;/a>就是一有想法就记录，随后整理成诗。好的想法一生不多，不记录真的就可惜了。&lt;/p>
&lt;h3 id="2-扩充完善想法">2. 扩充完善想法&lt;/h3>
&lt;p>有了想法并记录了，「记录」这个动作就延长了想法在大脑中的驻留时间，使得该想法更可能不断吸附其他想法，加上回头翻看记录导致的想法重现，这一效应就更是加强了，使得第二步——「扩充完善想法」更加轻松，甚至可以用”水到渠成“来形容。这样看，连普通的想法也具有记录的价值，因为它具有「驻留与吸附」的作用。我们不用管某单个想法最终能否形成一篇文章，用这个类似演化的方式写作，想法们会形成&lt;a href="https://baike.baidu.com/item/%E7%BD%91%E7%BB%9C%E6%95%88%E5%BA%94/2127594?fr=aladdin">网络效应&lt;/a>&lt;sup id="fnref:1">&lt;a href="https://lusuzi.github.io/writing/life/on-modern-writing/#fn:1" class="footnote-ref" role="doc-noteref">1&lt;/a>&lt;/sup>，无数想法的累积一定会涌现出哪怕是一篇好文章的。而且这个效应的力量在于，随着你的想法越来越多，新加入的想法一加入然后与其他想法相互碰撞并演化成一篇文章的速度将越来越快，即写作能力越来越强。&lt;/p>
&lt;h3 id="3-修改完善想法">3. 修改完善想法&lt;/h3>
&lt;p>随着想法的扩充，这个想法被完善得初具文章的雏形，但仍是想法的集合，相比一篇最终产物——「好文章」还是差很多。文章的好坏有相对客观的评判标准，大多数文章最起码要求通俗易懂和逻辑自洽。也有相对主观的文风，如有的追求简洁干练，有的追求句子华丽、留有想象余地等。不管如何，该想法与最终的目的形式还存在差距，需要进行下一步——「修改完善想法」。&lt;/p>
&lt;p>以追求通俗易懂和逻辑自洽为例，这时，需要简化语言和完善逻辑，如去除赘词，改正素材、语法、字词、逻辑上的错误。这一步其实也是一个演化过程，而且是文章与能力一同演化，多经历这个过程，组织想法与编辑文章的能力会不断提高，逻辑思维也会不断增强。现实中有意思的是，很多「帮人批改作文」的行为可能没能帮到被批改的人，因为他们可能压根没看批改的结果，也可能领会不到批改的逻辑，但却一定会帮到批改者，他实实在在地训练了自己的写作能力。&lt;/p>
&lt;p>需要注意的是，第三步「修改完善想法」的过程中可能会有相关的新想法不断汇集而来，即进行着第二步「扩充完善想法」。二者本质都是在「完善想法」，实践中往往会穿插进行，相互加强。&lt;/p>
&lt;h3 id="4-发表文章">4. 发表文章&lt;/h3>
&lt;p>最后，完善得差不多了，就可以考虑将最终产物「文章」发表出来。有人会立马反问——为什么要发表出来？&lt;/p>
&lt;p>首先，我们一般谈「写作」，默认应该就是要发表出来吧？不发表出来的话好像不能叫「写作」吧？&lt;a href="https://baike.baidu.com/item/%E5%86%99%E4%BD%9C/3087?fr=aladdin">百度百科上对写作的定义&lt;/a>，虽然杂乱，但具有共识的关键字有表达、传播、交流等，明显意味着「写作」是一个开放系统。&lt;/p>
&lt;p>从实用性讲，关起门来“写作”那只能是自娱自乐，它没有压力，没有变得越来越好的动机。写的东西要拿到市场上去检验，接受批评与指正才有不断进化&lt;sup id="fnref:2">&lt;a href="https://lusuzi.github.io/writing/life/on-modern-writing/#fn:2" class="footnote-ref" role="doc-noteref">2&lt;/a>&lt;/sup>的动力。想法就相当于DNA，文章是宿主或称为载体，是想法的表达形式。这样看，「写作」的过程就是想法内部的汇集、突变、自组织与自强化，表达形成更强&lt;sup id="fnref:3">&lt;a href="https://lusuzi.github.io/writing/life/on-modern-writing/#fn:3" class="footnote-ref" role="doc-noteref">3&lt;/a>&lt;/sup>的宿主——文章，在市场中竞争并最终跟着存活下来的过程。某一文章作为静态的表达形式，它最终会被淹没在历史中，但好的想法或称之为「思想」，会蔓延开来，得永存。&lt;/p>
&lt;h2 id="现代化写作">现代化写作&lt;/h2>
&lt;p>写作作为一种经典的创造性脑力活动，已经伴随着人类很久了，历史上每一次重大的知识升级与技术革新，都改变着人类写作的方式与能力。我们作为一个现代人，拥有着远超过去任何时期的知识储备与科技水平，如臻于完善的现代科学体系与互联网架构，理应具备更先进的写作方式和写作工具、更强大的写作能力。但是，现代知识与科技对写作的冲击正如「科学的普及」那样遥遥无期，我至今未看到多少迹象，写作目前还普遍处于「前互联网时期」。结合「写作的步骤」，以下便是我认为写作在现代互联网时代的因应之道。&lt;/p>
&lt;h3 id="1-需求">1. 需求&lt;/h3>
&lt;p>在前互联网时代，「记录想法」的最佳方式应该是随身准备一本本子，一有想法就记录，但在现在的互联网时代，这种方式不够方便与先进，会被外星人取笑的。用本子收集想法意味着要一直携带一本本子和一支笔，本子不能太大，笔不能太长，而且在记录想法时又需要找个适合书写的地方。这一方式我曾经试过，结果很快就坚持不下来，因为携带本子与笔以及书写都很麻烦，写出来的字丑得不忍直视。此外，这种方式使得第二步「扩充完善想法」也不好实施，各想法不好组织，因为书写是有顺序的，但想法大多无序且有不同的类别。随着想法的累积与完善，不仅本子越来越多，而且想法的组织与检索也是越发困难。&lt;/p>
&lt;p>而在互联网时代，我们虽然不会随身携带一本本子，但必须随身携带一个手机，随便拿个便签app即可实现想法的随时记录，这才像是互联网时代下的行为。书写带来的感官刺激当然有助于记忆，但我们这一步的核心目的是「收集」想法，而非记忆想法，况且这时想法还处于「弱组织状态」，记忆效率也不高。&lt;/p>
&lt;p>单纯用便签进行想法的收集是够用的，但进行想法的组织与修改就不太方便了，它既不能记录处理想法的过程，也不能做到时间回溯。例如当我的想法是&lt;code>v1.0&lt;/code>版本时，我觉得不够好，修改了，变成&lt;code>v1.1&lt;/code>，之后又觉得&lt;code>v1.0&lt;/code>好像更好，或者单纯想一起参考这两个版本写下一个版本，但这时&lt;code>v1.0&lt;/code>已经不可见了。「版本控制」需求日益强烈，于是市场上又有了带版本控制的写作app。但仍然有些不足，这样想法的演化就有点封闭了，如果一个想法在整个孕育的过程都能接受市场的检验与纠偏，那它会演化得更好、更强、更接近真理，其未来的表达形式——文章将更易存活。因此，我们需要一个更开放的系统。此外，这个系统最好能把写作四步骤全部囊括进来。&lt;/p>
&lt;h3 id="2-雏形">2. 雏形&lt;/h3>
&lt;p>目前，我认为最具现代化写作雏形的是用 &lt;a href="http://github.com/">Github&lt;/a> 写作。它是现代人类最大规模的合作写作平台，其2019年年报显示已经有超过4000万用户，只不过写作形式主要是「代码」。&lt;/p>
&lt;p>用 Github 写作，任何时间与地点，一有想法就可以拿手机开个 &lt;a href="https://guides.github.com/features/issues/">Github Issues&lt;/a> 以「记录」想法。随后，我们在任何时间地点一有其他相关想法可以进一步「扩充」想法，并对想法们进行「修改与完善」。带有的版本控制能记录整个演化过程，注册了 Github 账号的人可以直接评论这些想法，也可帮助扩充与修改想法，其作出的贡献也被记录着。最后，当想法演化为一篇文章后，可以直接将其发表在 &lt;a href="https://pages.github.com/">Github Pages&lt;/a> 上，任何会使用互联网的人都能看到它。&lt;/p>
&lt;p>这种形式下，写作的整个过程都是公开的、可追溯的、可参与的，不仅仅想法的终极演化产物「文章」可以进行思想的交流，其演化的任何中间形态都可以进行。加上知识储备上我们有维基百科和互联网档案馆，检索上我们有谷歌，引用资料上可以很方便地用超链接等，这难道不够惊艳吗？将这些现代知识与科技成果结合起来，应该足以构成对传统写作的冲击。&lt;/p>
&lt;h3 id="3-实践">3. 实践&lt;/h3>
&lt;p>其实日常生活中每个人都有些想法，但很多可惜都丢进微博、朋友圈里了，这样虽然也进入了互联网，但缺乏系统推动下的进化，它们将一直处于弱小而单一的状态，被大规模遗忘。只有在系统下，想法才能像种子一样萌发并成长。 我认为以上所述的写作方式便是一个好的现代化写作系统。&lt;/p>
&lt;p>它还解决了一个「动笔难」的问题。一般人误以为写文章都是呼之欲出，这其实是误解，绝大多数文章是想法的积累与修改的结果，是成品，而传统写作下其雏形、各代次成品读者是见不到的。数学定理也是成品，高斯就特喜欢抹去思考与论证过程，他说：“当一幢建筑物完成时，应该把脚手架拆除干净。” 画家作画一般是一个由粗到细的过程，先构建框架然后逐渐细化，最后将辅助线等擦除。成品不能完全反映过程，看似简单的数学定理和画作其实过程是较为复杂的，而看似困难的写作拆开却较为简单。传统教育要求我们写文章呼之欲出，动笔当然难，而用 Github 则把写作战线拉得很长，随时可以动笔，随时可以停笔，将写作拆分成了一个个小的步骤，不仅能真正让写作生活化，而且大大降低了写作的难度。&lt;/p>
&lt;p>万事开头难，开头后易。开启一个 Github Issues 后，它将在你的脑中占据了一个位置，发散思维会在你洗澡、刷牙、通勤等场合源源不断地涌来。而且你可以用标签组织 Issues，各 Issues 也能相互引用。当想法「扩充完善」到能够成为一篇文章的时候，进入了第三步「修改完善想法」，将 Issues 的内容进行初步整理，如前所述包括简化语言，完善逻辑，改正错误等，然后将这个文章雏形发布在 Github Pages 上&lt;sup id="fnref:4">&lt;a href="https://lusuzi.github.io/writing/life/on-modern-writing/#fn:4" class="footnote-ref" role="doc-noteref">4&lt;/a>&lt;/sup>。 例如，我将文章雏形发布在副站上，然后继续进行修改与完善，同时，Github Issues 可继续吸收新想法。「扩充完善」过程读者可以提供帮助，「修改完善」同样可以是我与读者一起完成的，任何一篇文章需要补充、有错别字，读者可以点击文章末尾的「编辑」按钮进行修改后提交 Pull requests，或者点击「反馈」按钮在 Issues 里提供建议，读者的贡献历史也会被保留下来。 在该站的文章雏形经过一定时间的修改完善后，进入第四步「发表文章」，例如我会将文章选择性地发布在主站或其他网站上。&lt;/p>
&lt;p>与传统写作相比，这种写作过程具有可追溯性——任何一版的内容及其变化都将保留下来，互动性——他人也能参与进来，以及动态性——文章最终发表后仍然可以继续演绎。其最终成果也具有更强的可达性——任何知道这个网址的人都可用浏览器进行访问。&lt;/p>
&lt;p>这才是现代化的写作！Github 作为最大的代码托管平台，为什么不能作为最大的写作平台呢？「写代码」也可以看成是写作的一种，而以上谈的「写作」特指的是「写文章」，也是写作的一种。&lt;/p>
&lt;p>让写作之风劲吹，愿科学早日普及。&lt;/p>
&lt;section class="footnotes" role="doc-endnotes">
&lt;hr>
&lt;ol>
&lt;li id="fn:1" role="doc-endnote">
&lt;p>具备网络效应的东西一般都值得关注。&amp;#160;&lt;a href="https://lusuzi.github.io/writing/life/on-modern-writing/#fnref:1" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:2" role="doc-endnote">
&lt;p>进化这个词带有一种往更好的方向演化的倾向性。&amp;#160;&lt;a href="https://lusuzi.github.io/writing/life/on-modern-writing/#fnref:2" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:3" role="doc-endnote">
&lt;p>这里的「强」指的是在外部环境即思想市场「更适合生存」。&amp;#160;&lt;a href="https://lusuzi.github.io/writing/life/on-modern-writing/#fnref:3" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;li id="fn:4" role="doc-endnote">
&lt;p>这篇文章就是用 Github Issues 进化而来的。&amp;#160;&lt;a href="https://lusuzi.github.io/writing/life/on-modern-writing/#fnref:4" class="footnote-backref" role="doc-backlink">&amp;#x21a9;&amp;#xfe0e;&lt;/a>&lt;/p>
&lt;/li>
&lt;/ol>
&lt;/section></description><category domain="https://lusuzi.github.io/writing/life/">life</category><category domain="https://lusuzi.github.io/writing/tags/%E5%86%99%E4%BD%9C/">写作</category><category domain="https://lusuzi.github.io/writing/tags/github/">github</category></item></channel></rss>